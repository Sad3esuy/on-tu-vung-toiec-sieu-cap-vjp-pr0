<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TOEIC Vocabulary Si√™u C·∫•p Vjp Pr0</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- QR Code Scanner Library -->
    <script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js" type="text/javascript"></script>
    
    <!-- Alternative QR Library for file scanning -->
    <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.min.js"></script>

    <!-- Tailwind Config for Custom Colors -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        brand: {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            500: '#3b82f6',
                            600: '#2563eb', // Primary Blue
                            700: '#1d4ed8',
                            900: '#1e3a8a',
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Custom Styles for 3D Flip Card not built-in to default Tailwind */
        .perspective-1000 {
            perspective: 1000px;
        }
        
        .transform-style-3d {
            transform-style: preserve-3d;
        }
        
        .backface-hidden {
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden; 
        }
        
        .rotate-y-180 {
            transform: rotateY(180deg);
        }

        /* Tinder Swipe Styles */
        .swipe-card {
            cursor: grab;
            transition: transform 0.1s;
            touch-action: none; /* Prevent scrolling while swiping */
            user-select: none;
        }
        .swipe-card.is-animating {
            transition: transform 0.5s ease-in-out;
        }
        .swipe-card:active {
            cursor: grabbing;
        }

        /* Memory Game 3D Flip */
        .game-card-inner {
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        .game-card.flipped .game-card-inner {
            transform: rotateY(180deg);
        }
        /* Matched card animation */
        .game-card.matched {
            animation: matchSuccess 0.6s forwards;
        }
        @keyframes matchSuccess {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(0); opacity: 0; }
        }

        /* Hide scrollbar for clean UI */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* Mobile Menu Styles */
        #mobile-menu {
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card-matched {
            animation: popOut 0.5s forwards;
        }

        @keyframes popOut {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(0); opacity: 0; }
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 font-sans min-h-screen flex flex-col">

    <!-- Navbar -->
    <nav class="bg-white shadow-md sticky top-0 z-50">
        <div class="max-w-4xl mx-auto px-4">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex-shrink-0 flex items-center cursor-pointer" onclick="app.goHome()">
                    <i class="fa-solid fa-graduation-cap text-3xl text-brand-600 mr-2"></i>
                    <span class="font-bold text-xl tracking-tight text-gray-800">TOEIC<span class="text-brand-600">SieuCapVjpPr0</span></span>
                </div>
                
                <!-- Mobile Menu Button -->
                <div class="md:hidden">
                    <button onclick="app.toggleMobileMenu()" class="text-gray-600 hover:text-gray-800 p-2">
                        <i class="fa-solid fa-bars text-xl"></i>
                    </button>
                </div>
                
                <!-- Desktop Menu -->
                <div class="hidden md:flex space-x-4">
                    <button onclick="app.goHome()" class="text-gray-600 hover:text-brand-600 px-3 py-2 rounded-md font-medium transition">Dashboard</button>
                    <button onclick="app.resetProgress()" class="text-red-500 hover:text-red-700 px-3 py-2 text-sm rounded-md transition"><i class="fa-solid fa-trash-can mr-1"></i> Reset Data</button>
                    <button onclick="app.toggleDarkMode()" class="text-gray-600 hover:text-yellow-400 px-3 py-2 rounded-md font-medium transition dark:text-gray-300"><i class="fa-solid fa-moon"></i></button>
                </div>

                <!-- Mobile Menu Dropdown -->
                <div id="mobile-menu" class="hidden md:hidden absolute top-full right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50">
                    <button onclick="app.goHome(); app.toggleMobileMenu()" class="block w-full text-left px-4 py-2 text-gray-600 hover:text-brand-600 hover:bg-gray-50 transition">
                        <i class="fa-solid fa-home mr-2"></i>Dashboard
                    </button>
                    <button onclick="app.resetProgress(); app.toggleMobileMenu()" class="block w-full text-left px-4 py-2 text-red-500 hover:text-red-700 hover:bg-red-50 transition">
                        <i class="fa-solid fa-trash-can mr-2"></i>Reset Data
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content Container -->
    <main id="app-container" class="flex-grow max-w-4xl mx-auto w-full p-4 relative">
        
        <!-- LOGIN VIEW -->
        <section id="view-login" class="fade-in max-w-md mx-auto pt-10 text-center">
            <div class="mb-8">
                <i class="fa-solid fa-graduation-cap text-6xl text-brand-600 mb-4"></i>
                <h1 class="text-3xl font-bold text-gray-800">TOEIC Si√™u C·∫•p Vjp Pr0</h1>
                <p class="text-gray-500">Vui l√≤ng n·∫°p l·∫ßn ƒë·∫ßu ƒë·ªÉ ti·∫øp t·ª•cü§´</p>
            </div>

            <div class="bg-white p-6 rounded-2xl shadow-lg border border-gray-100">
                <div class="mb-4 text-left">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Nh·∫≠p m√£ t√¢n th·ªß ho·∫∑c N·∫°p card 20k ƒë·ªÉ m·∫°nh h∆°n nhooüòò</label>
                    <input type="text" id="access-code" class="w-full px-4 py-3 rounded-lg border focus:ring-2 focus:ring-brand-500 outline-none transition uppercase" placeholder="Nh·∫≠p m√£ code...">
                </div>
                
                <button onclick="app.handleLogin()" class="w-full bg-brand-600 text-white font-bold py-3 px-4 rounded-xl hover:bg-brand-700 transition mb-4 shadow-lg shadow-brand-200">
                    B·∫Øt ƒë·∫ßu h·ªçc
                </button>

                <div class="relative flex py-2 items-center">
                    <div class="flex-grow border-t border-gray-300"></div>
                    <span class="flex-shrink mx-4 text-gray-400 text-sm">Ho·∫∑c</span>
                    <div class="flex-grow border-t border-gray-300"></div>
                </div>

                <div id="reader-container" class="hidden my-4 overflow-hidden rounded-lg">
                    <div id="reader" style="width: 100%"></div>
                    <button onclick="app.stopScanner()" class="mt-2 text-red-500 text-sm underline">ƒê√≥ng Camera</button>
                </div>

                <div class="grid grid-cols-2 gap-3 mt-4">
                    <button onclick="app.startScanner()" id="btn-scan-qr" class="bg-gray-100 text-gray-700 font-bold py-3 px-2 rounded-xl hover:bg-gray-200 transition flex items-center justify-center text-sm">
                        <i class="fa-solid fa-camera mr-2"></i> Qu√©t Camera
                    </button>
                    
                    <button id="btn-upload-qr" onclick="document.getElementById('qr-input-file').click()" class="bg-gray-100 text-gray-700 font-bold py-3 px-2 rounded-xl hover:bg-gray-200 transition flex items-center justify-center text-sm">
                        <i class="fa-solid fa-image mr-2"></i> T·∫£i ·∫£nh QR
                    </button>
                    <input type="file" id="qr-input-file" class="hidden" accept="image/*" onchange="app.handleQrFile(this)">
                </div>
            </div>           
        </section>

        <!-- DASHBOARD VIEW -->
        <section id="view-dashboard" class="hidden fade-in space-y-6">
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold text-brand-900 dark:text-brand-400">Ch·ªçn ch·ªß ƒë·ªÅ ƒë·ªÉ h·ªçc</h1>
                <p class="text-gray-500 mt-2 dark:text-gray-400">N√¢ng cao v·ªën t·ª´ v·ª±ng TOEIC m·ªói ng√†y</p>
            </div>

            <!-- Search & Filter -->
            <div class="flex flex-col md:flex-row gap-4 mb-6">
                <div class="relative flex-grow">
                    <i class="fa-solid fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                    <input type="text" oninput="app.handleSearch(this.value)" placeholder="Tra t·ª´ v·ª±ng..." class="w-full pl-10 pr-4 py-3 border rounded-xl focus:ring-2 focus:ring-brand-500 outline-none shadow-sm dark:bg-slate-800 dark:border-slate-700 dark:text-white">
                </div>
                <select id="filter-source" onchange="app.handleFilter(this.value)" class="p-3 border rounded-xl outline-none bg-white shadow-sm dark:bg-slate-800 dark:border-slate-700 dark:text-white cursor-pointer">
                    <option value="all">T·∫•t c·∫£ ngu·ªìn</option>
                    <option value="Part 1">Part 1</option>
                    <option value="Part 2">Part 2</option>
                    <option value="Part 3">Part 3</option>
                    <option value="Part 4">Part 4</option>
                    <option value="General">T·ª´ v·ª±ng chung</option>
                </select>
            </div>

            <div id="topic-list" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Topics will be injected here via JS -->
            </div>
        </section>

        <!-- TOPIC ACTION SELECTOR (Popup Modal-like view) -->
        <section id="view-actions" class="hidden fade-in text-center pt-10">
            <button onclick="app.goHome()" class="absolute top-5 left-5 text-gray-500 hover:text-brand-600"><i class="fa-solid fa-arrow-left mr-1"></i> Quay l·∫°i</button>
            
            <h2 id="action-topic-title" class="text-2xl font-bold text-brand-800 mb-8">Topic Title</h2>
            
            <div class="grid grid-cols-1 gap-4 max-w-md mx-auto">
                <button onclick="app.startFlashcards()" class="flex items-center justify-between p-6 bg-white rounded-xl shadow-lg hover:shadow-xl hover:border-brand-500 border-2 border-transparent transition group cursor-pointer text-left">
                    <div>
                        <h3 class="font-bold text-lg text-brand-700 group-hover:text-brand-500">Flashcards</h3>
                        <p class="text-sm text-gray-500">H·ªçc t·ª´ m·ªõi qua th·∫ª l·∫≠t</p>
                    </div>
                    <div class="w-12 h-12 bg-brand-100 rounded-full flex items-center justify-center text-brand-600 text-xl group-hover:bg-brand-600 group-hover:text-white transition">
                        <i class="fa-solid fa-layer-group"></i>
                    </div>
                </button>

                <button onclick="app.startQuiz()" class="flex items-center justify-between p-6 bg-white rounded-xl shadow-lg hover:shadow-xl hover:border-green-500 border-2 border-transparent transition group cursor-pointer text-left">
                    <div>
                        <h3 class="font-bold text-lg text-green-700 group-hover:text-green-500">Quiz Test</h3>
                        <p class="text-sm text-gray-500">Ki·ªÉm tra tr·∫Øc nghi·ªám nhanh</p>
                    </div>
                    <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center text-green-600 text-xl group-hover:bg-green-600 group-hover:text-white transition">
                        <i class="fa-solid fa-clipboard-question"></i>
                    </div>
                </button>

                <button onclick="app.startGame()" class="flex items-center justify-between p-6 bg-white rounded-xl shadow-lg hover:shadow-xl hover:border-purple-500 border-2 border-transparent transition group cursor-pointer text-left">
                    <div>
                        <h3 class="font-bold text-lg text-purple-700 group-hover:text-purple-500">Memory Game</h3>
                        <p class="text-sm text-gray-500">Gh√©p th·∫ª t·ª´ v·ª±ng v√† nghƒ©a</p>
                    </div>
                    <div class="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center text-purple-600 text-xl group-hover:bg-purple-600 group-hover:text-white transition">
                        <i class="fa-solid fa-puzzle-piece"></i>
                    </div>
                </button>

                <button onclick="app.startSpellingBee()" class="flex items-center justify-between p-6 bg-white rounded-xl shadow-lg hover:shadow-xl hover:border-yellow-500 border-2 border-transparent transition group cursor-pointer text-left">
                    <div>
                        <h3 class="font-bold text-lg text-yellow-700 group-hover:text-yellow-500">Spelling Bee</h3>
                        <p class="text-sm text-gray-500">ƒêi·ªÅn t·ª´ c√≤n thi·∫øu</p>
                    </div>
                    <div class="w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center text-yellow-600 text-xl group-hover:bg-yellow-600 group-hover:text-white transition">
                        <i class="fa-solid fa-spell-check"></i>
                    </div>
                </button>
            </div>
        </section>

        <!-- FLASHCARD MODE (Tinder Swipe) -->
        <section id="view-flashcard" class="hidden fade-in h-[600px] sm:min-h-[80vh] flex flex-col items-center relative pt-4">
            <!-- Header Controls -->
            <div class="w-full flex justify-between items-center mb-4 max-w-sm px-4">
                <button onclick="app.showActions()" class="text-gray-400 hover:text-gray-600 p-2"><i class="fa-solid fa-times text-2xl"></i></button>
                <div class="text-gray-500 font-bold bg-white px-3 py-1 rounded-full shadow-sm text-sm"><span id="fc-progress">1/10</span></div>
                <button onclick="app.resetCardPosition()" class="text-yellow-500 hover:text-yellow-600 p-2"><i class="fa-solid fa-undo text-xl"></i></button>
            </div>

            <!-- Swipe Container -->
            <div class="relative w-full max-w-sm h-[600px] sm:h-[650px] flex justify-center items-center perspective-1000">
                
                <!-- Background Decoration (Stack effect) -->
                <div class="absolute w-[90%] h-[90%] bg-white rounded-2xl shadow-sm transform translate-y-4 scale-95 opacity-50 z-0"></div>
                <div class="absolute w-[95%] h-[95%] bg-white rounded-2xl shadow-md transform translate-y-2 scale-98 opacity-70 z-10"></div>

                <!-- Active Card -->
                <div id="flashcard-swipe" class="swipe-card absolute w-full h-full z-20 cursor-grab transform-style-3d bg-transparent">
                    <div id="flashcard-inner" class="relative w-full h-full transition-transform duration-500 transform-style-3d shadow-xl rounded-2xl cursor-pointer" onclick="app.flipCard()">
                        
                        <!-- Front -->
                        <div class="absolute w-full h-full bg-white rounded-2xl backface-hidden flex flex-col items-center justify-center border border-gray-100 p-6 select-none">
                            <span class="text-gray-300 text-xs font-bold uppercase tracking-widest bg-gray-50 px-3 py-1 rounded-full mb-6">Vocabulary</span>
                            <h2 id="fc-front" class="text-4xl sm:text-5xl font-bold text-gray-800 text-center break-words max-w-full">Vocabulary</h2>
                            <p id="fc-pronunciation" class="text-brand-500 mt-3 font-mono text-lg font-medium bg-blue-50 px-3 py-1 rounded-lg">/pronunciation/</p>
                            
                            <!-- Swipe Hints Overlay -->
                            <div id="swipe-nope" class="absolute top-8 right-8 border-4 border-red-500 rounded px-2 py-1 transform rotate-12 opacity-0 transition-opacity pointer-events-none">
                                <span class="text-red-500 font-extrabold text-2xl uppercase tracking-wider">H·ªåC L·∫†I</span>
                            </div>
                            <div id="swipe-like" class="absolute top-8 left-8 border-4 border-green-500 rounded px-2 py-1 transform -rotate-12 opacity-0 transition-opacity pointer-events-none">
                                <span class="text-green-500 font-extrabold text-2xl uppercase tracking-wider">ƒê√É THU·ªòC</span>
                            </div>

                            <p class="absolute bottom-6 text-gray-300 text-sm animate-pulse flex items-center">
                                <i class="fa-solid fa-hand-pointer mr-2"></i> Ch·∫°m ƒë·ªÉ l·∫≠t
                            </p>
                        </div>
                        
                        <div class="absolute w-full h-full bg-slate-800 text-white rounded-2xl backface-hidden rotate-y-180 flex flex-col items-center justify-center p-6 border border-slate-600 select-none">
                            <!-- New Layout: Vocab -> Meaning -->
                            <h2 id="fc-back-en" class="text-3xl font-bold text-brand-300 mb-1">Vocabulary</h2>
                            <p id="fc-back-pron" class="text-gray-400 font-mono text-sm mb-6">/pronunciation/</p>
                            
                            <div class="w-16 h-1 bg-gray-600 rounded mb-6"></div>

                            <span class="text-gray-400 text-xs font-bold uppercase tracking-widest mb-2">Meaning</span>
                            <h2 id="fc-back" class="text-2xl sm:text-3xl font-bold text-center break-words leading-tight mb-4 text-white">Nghƒ©a ti·∫øng Vi·ªát</h2>
                            
                            <button onclick="event.stopPropagation(); app.playAudio()" class="w-14 h-14 bg-brand-600 text-white rounded-full flex items-center justify-center shadow-lg hover:scale-110 hover:bg-brand-500 transition active:scale-95">
                                <i class="fa-solid fa-volume-high text-2xl"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Controls (Bottom Buttons) -->
            <div class="flex gap-6 mt-6 sm:mt-8 w-full max-w-xs justify-center z-30">
                <button onclick="app.triggerSwipe('left')" class="w-14 h-14 sm:w-16 sm:h-16 bg-white text-red-500 rounded-full shadow-lg border border-gray-100 hover:scale-110 hover:bg-red-50 transition flex items-center justify-center text-2xl">
                    <i class="fa-solid fa-xmark"></i>
                </button>
                <button onclick="app.triggerSwipe('right')" class="w-14 h-14 sm:w-16 sm:h-16 bg-white text-green-500 rounded-full shadow-lg border border-gray-100 hover:scale-110 hover:bg-green-50 transition flex items-center justify-center text-2xl">
                    <i class="fa-solid fa-heart"></i>
                </button>
            </div>

            <div id="fc-complete-msg" class="hidden absolute inset-0 bg-white z-50 flex flex-col items-center justify-center text-center p-6 rounded-3xl">
                <div class="w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mb-6 animate-bounce">
                    <i class="fa-solid fa-check text-4xl text-green-600"></i>
                </div>
                <h2 class="text-2xl font-bold text-gray-800 mb-2">Tuy·ªát v·ªùi!</h2>
                <p class="text-gray-500 mb-8">B·∫°n ƒë√£ ho√†n th√†nh c√°c th·∫ª trong ch·ªß ƒë·ªÅ n√†y.</p>
                <button onclick="app.goHome()" class="px-8 py-3 bg-brand-600 text-white rounded-xl font-bold shadow-lg hover:bg-brand-700 hover:shadow-xl transition transform hover:-translate-y-1">
                    V·ªÅ trang ch·ªß
                </button>
            </div>
        </section>

        <!-- QUIZ MODE (Keep as is, just ensure responsive padding) -->
        <section id="view-quiz" class="hidden fade-in max-w-lg mx-auto pt-4 px-2">
            <div class="flex justify-between items-center mb-6">
                <button onclick="app.showActions()" class="text-gray-400 hover:text-gray-600"><i class="fa-solid fa-arrow-left"></i> Tho√°t</button>
                <div class="font-bold text-brand-600">ƒêi·ªÉm: <span id="quiz-score">0</span></div>
            </div>

            <div id="quiz-container">
                <div class="bg-white p-8 rounded-2xl shadow-lg border-t-4 border-brand-500 mb-6 text-center">
                    <p class="text-gray-500 uppercase text-xs font-bold mb-2">Ch·ªçn nghƒ©a ƒë√∫ng c·ªßa t·ª´:</p>
                    <h2 id="quiz-question" class="text-3xl font-bold text-brand-800">Question Word</h2>
                </div>

                <div id="quiz-options" class="grid grid-cols-1 gap-3">
                    <!-- Buttons injected via JS -->
                </div>
                
                <div id="quiz-feedback" class="mt-4 text-center h-8 font-bold text-lg transition-all opacity-0"></div>
                
                <button id="quiz-next-btn" onclick="app.nextQuiz()" class="w-full mt-6 py-3 bg-brand-600 text-white rounded-xl font-bold shadow-lg hover:bg-brand-700 transform transition hidden">C√¢u ti·∫øp theo <i class="fa-solid fa-arrow-right ml-2"></i></button>
            </div>

            <div id="quiz-result" class="hidden text-center bg-white p-8 rounded-2xl shadow-lg">
                <div class="text-6xl text-brand-500 mb-4"><i class="fa-solid fa-trophy"></i></div>
                <h2 class="text-2xl font-bold mb-2">Ho√†n th√†nh b√†i ki·ªÉm tra!</h2>
                <p class="text-gray-600 mb-6">ƒêi·ªÉm s·ªë c·ªßa b·∫°n: <span id="quiz-final-score" class="font-bold text-brand-600 text-xl"></span></p>
                <button onclick="app.showActions()" class="px-6 py-2 bg-brand-600 text-white rounded-lg shadow hover:bg-brand-700">Ti·∫øp t·ª•c h·ªçc</button>
            </div>
        </section>

        <!-- GAME MODE -->
        <section id="view-game" class="hidden fade-in max-w-lg mx-auto pt-2">
            <div class="flex justify-between items-center mb-4">
                <button onclick="app.showActions()" class="text-gray-400 hover:text-gray-600"><i class="fa-solid fa-arrow-left"></i> Tho√°t</button>
                <div class="font-bold text-brand-600">C·∫∑p c√≤n l·∫°i: <span id="game-left">6</span></div>
            </div>
            
            <div id="game-grid" class="grid grid-cols-4 gap-2 md:gap-3 h-full">
                <!-- Cards injected here -->
            </div>

            <div id="game-win" class="hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50">
                <div class="bg-white p-8 rounded-2xl shadow-2xl text-center animate-bounce">
                    <h2 class="text-3xl font-bold text-brand-600 mb-2">Xu·∫•t s·∫Øc!</h2>
                    <p class="text-gray-600 mb-4">B·∫°n ƒë√£ gh√©p ƒë√∫ng t·∫•t c·∫£ c√°c th·∫ª.</p>
                    <button onclick="app.showActions()" class="px-6 py-2 bg-brand-600 text-white rounded-lg">Ch∆°i l·∫°i / Tho√°t</button>
                </div>
            </div>
        </section>

        <!-- SPELLING BEE MODE -->
        <section id="view-spelling" class="hidden fade-in max-w-lg mx-auto pt-4 px-2">
            <div class="flex justify-between items-center mb-6">
                <button onclick="app.showActions()" class="text-gray-400 hover:text-gray-600"><i class="fa-solid fa-arrow-left"></i> Tho√°t</button>
                <div class="font-bold text-brand-600">ƒêi·ªÉm: <span id="spelling-score">0</span></div>
            </div>

            <div class="bg-white p-8 rounded-2xl shadow-lg border-t-4 border-yellow-500 mb-6 text-center">
                <p class="text-gray-500 uppercase text-xs font-bold mb-4">ƒêi·ªÅn t·ª´ ti·∫øng Anh t∆∞∆°ng ·ª©ng:</p>
                <h2 id="spelling-meaning" class="text-2xl font-bold text-gray-800 mb-6">Nghƒ©a Ti·∫øng Vi·ªát</h2>
                
                <div id="spelling-input-container" class="flex justify-center gap-1 mb-4 flex-wrap">
                    <!-- Inputs injected here -->
                </div>
                
                <p id="spelling-hint" class="text-sm text-brand-500 h-6 font-mono"></p>
                
                <div id="spelling-feedback" class="h-8 font-bold mt-2"></div>

                <div class="flex gap-2 mt-6">
                     <button onclick="app.checkSpelling()" class="flex-1 py-3 bg-brand-600 text-white rounded-xl font-bold shadow-lg hover:bg-brand-700 transition">Ki·ªÉm tra</button>
                     <button onclick="app.nextSpelling()" id="btn-next-spelling" class="hidden px-4 py-3 bg-gray-200 text-gray-700 rounded-xl font-bold hover:bg-gray-300 transition"><i class="fa-solid fa-arrow-right"></i></button>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-white border-t mt-auto py-6 text-center text-gray-400 text-sm">
        <p>&copy; 2026 TOEIC Vocabulary Si√™u C·∫•p Vjp Pr0. All-in-one Learning App.</p> dev by Sadmesuy ‚ù§Ô∏è
    </footer>

    <!-- LOGIC -->
    <script>
        // 1. DATA SOURCE
        const vocabularyData = [
    {
        "id": "1",
        "title": "MUA S·∫ÆM, NH√Ä H√ÄNG",
        "icon": "fa-school",
        "color": "bg-red-500",
        "words": [
            {
                "en": "souvenir",
                "vi": "qu√† l∆∞u ni·ªám",
                "pron": ""
            },
            {
                "en": "be arranged",
                "vi": "ƒê∆∞·ª£c s·∫Øp x·∫øp",
                "pron": ""
            },
            {
                "en": "be stacked up",
                "vi": "ƒê∆∞·ª£c ch·∫•t ƒë·ªëng",
                "pron": ""
            },
            {
                "en": "be lined up",
                "vi": "ƒê∆∞·ª£c x·∫øp th√†nh h√†ng",
                "pron": ""
            },
            {
                "en": "be on display",
                "vi": "ƒê∆∞·ª£c tr∆∞ng b√†y",
                "pron": ""
            },
            {
                "en": "browse in the store",
                "vi": "nh√¨n quanh trong c·ª≠a h√†ng",
                "pron": ""
            },
            {
                "en": "compare prices",
                "vi": "so s√°nh gi√° c·∫£",
                "pron": ""
            },
            {
                "en": "make a selection from",
                "vi": "ch·ªçn l·ª±a t·ª´",
                "pron": ""
            },
            {
                "en": "on both sides of the aisle",
                "vi": "·ªü hai b√™n l·ªëi ƒëi",
                "pron": ""
            },
            {
                "en": "be hanging on the rack",
                "vi": "ƒê∆∞·ª£c treo l√™n gi√°",
                "pron": ""
            },
            {
                "en": "be laid out for sale",
                "vi": "ƒê∆∞·ª£c tr∆£ng b√†y ƒë·ªÉ b√°n",
                "pron": ""
            },
            {
                "en": "be marked down",
                "vi": "treo b·∫£ng gi·∫£m gi√°",
                "pron": ""
            },
            {
                "en": "be stocked with",
                "vi": "ƒê∆∞·ª£c d·ª± tr·ªØ (m·∫∑t h√†ng)",
                "pron": ""
            },
            {
                "en": "cash register",
                "vi": "m√°y t√≠nh ti·ªÅn",
                "pron": ""
            },
            {
                "en": "reach for an item",
                "vi": "v·ªõi tay l·∫•y h√†ng",
                "pron": ""
            },
            {
                "en": "piles of bags",
                "vi": "ch·ªìng t√∫i x√°ch",
                "pron": ""
            },
            {
                "en": "on the shelves",
                "vi": "tr√™n k·ªá",
                "pron": ""
            },
            {
                "en": "pushing a shopping cart",
                "vi": "ƒë·∫©y xe mua h√†ng",
                "pron": ""
            },
            {
                "en": "chef",
                "vi": "ƒë·∫ßu b·∫øp",
                "pron": ""
            },
            {
                "en": "stack of plates",
                "vi": "ch·ªìng ƒëƒ©a",
                "pron": ""
            },
            {
                "en": "dine out",
                "vi": "ƒÉn ·ªü b√™n ngo√†i",
                "pron": ""
            },
            {
                "en": "leave a tip",
                "vi": "ƒë·ªÉ ti·ªÅn boa",
                "pron": ""
            },
            {
                "en": "pour water into a glass",
                "vi": "r√≥t n∆£·ªõc v√†o ly",
                "pron": ""
            },
            {
                "en": "call the waiter over",
                "vi": "g·ªçi b·ªìi b√†n",
                "pron": ""
            },
            {
                "en": "study the menu",
                "vi": "xem th·ª±c ƒë∆°n",
                "pron": ""
            },
            {
                "en": "be covered by a cloth",
                "vi": "ƒë∆∞·ª£c tr·∫£i khƒÉn tr·∫£i b√†n",
                "pron": ""
            },
            {
                "en": "cluttered table",
                "vi": "b√†n ƒÉn b·ª´a b·ªôn",
                "pron": ""
            },
            {
                "en": "be occupied",
                "vi": "c√≥ ng∆∞·ªùi ng·ªìi, ƒë·∫∑t ch·ªó tr∆£·ªõc",
                "pron": ""
            },
            {
                "en": "help oneself to refreshments",
                "vi": "t·ª± ph·ª•c v·ª• b·ªØa ƒÉn nh·∫π",
                "pron": ""
            },
            {
                "en": "be crowded with patrons",
                "vi": "ƒë√¥ng ngh·ªãt kh√°ch",
                "pron": ""
            },
            {
                "en": "remove loaves of bread",
                "vi": "d·∫πp ƒëi nh·ªØng ·ªï b√°nh m√¨",
                "pron": ""
            },
            {
                "en": "be seated on the stool",
                "vi": "ng·ªìi tr√™n gh·∫ø kh√¥ng c√≥ bƒÉng t·ª±a",
                "pron": ""
            },
            {
                "en": "take an order",
                "vi": "nh·∫≠n ƒë∆°n ƒë·∫∑t h√†ng",
                "pron": ""
            },
            {
                "en": "sit on the patio",
                "vi": "ng·ªìi tr√™n h√†nh lang ngo√†i tr·ªùi",
                "pron": ""
            },
            {
                "en": "wait tables",
                "vi": "ph·ª•c v·ª•, ti·∫øp th·ª©c ƒÉn ƒë·ª©ng b√†n",
                "pron": ""
            }
        ]
    },
    {
        "id": "2",
        "title": "GIAO TH√îNG, C√îNG TR∆Ø·ªúNG",
        "icon": "fa-briefcase",
        "color": "bg-teal-500",
        "words": [
            {
                "en": "float in the water",
                "vi": "n·ªïi tr√™n m·∫∑t n∆£·ªõc",
                "pron": ""
            },
            {
                "en": "pedestrian",
                "vi": "ng∆∞·ªùi ƒëi b·ªô",
                "pron": ""
            },
            {
                "en": "be packed",
                "vi": "b·ªã nh√©t ƒë·∫ßy b·ªüi",
                "pron": ""
            },
            {
                "en": "be parked on the ground",
                "vi": "ƒë·∫≠u xe",
                "pron": ""
            },
            {
                "en": "be lined up in rows",
                "vi": "x·∫øp th·∫≥ng h√†ng",
                "pron": ""
            },
            {
                "en": "block the road",
                "vi": "ch·∫Øn ƒë∆∞·ªùng",
                "pron": ""
            },
            {
                "en": "on the deck of the boat",
                "vi": "tr√™n boong t√†u",
                "pron": ""
            },
            {
                "en": "in the back of the truck",
                "vi": "·ªü ph√≠a sau xe t·∫£i",
                "pron": ""
            },
            {
                "en": "put gas in the car",
                "vi": "ƒë·ªï d·∫ßu v√†o xe h∆°i",
                "pron": ""
            },
            {
                "en": "lamppost",
                "vi": "c·ªôt ƒë√®n",
                "pron": ""
            },
            {
                "en": "train track",
                "vi": "ƒë∆∞·ªùng ray xe l·ª≠a",
                "pron": ""
            },
            {
                "en": "be towed away",
                "vi": "b·ªã k√©o ƒëi",
                "pron": ""
            },
            {
                "en": "be unoccupied",
                "vi": "tr·ªëng ch·ªó",
                "pron": ""
            },
            {
                "en": "be tied up in the harbor",
                "vi": "b·ªã c·ªôt l·∫°i ·ªü b·∫øn t√†u",
                "pron": ""
            },
            {
                "en": "board the vehicle",
                "vi": "l√™n xe",
                "pron": ""
            },
            {
                "en": "near the platform",
                "vi": "g·∫ßn th·ªÅm ga",
                "pron": ""
            },
            {
                "en": "dock",
                "vi": "b·∫øn t√†u",
                "pron": ""
            },
            {
                "en": "curb",
                "vi": "l·ªÅ ph√¢n c√°ch",
                "pron": ""
            },
            {
                "en": "path",
                "vi": "ƒë∆∞·ªùng, l·ªëi ƒëi",
                "pron": ""
            },
            {
                "en": "sweep",
                "vi": "qu√©t d·ªçn, d·ªçn d·∫πp",
                "pron": ""
            },
            {
                "en": "climb a ladder",
                "vi": "tr√®o l√™n thang",
                "pron": ""
            },
            {
                "en": "be renovated",
                "vi": "ƒë∆∞·ª£c s·ª≠a ch·ªØa (t√≤a nh√†)",
                "pron": ""
            },
            {
                "en": "kneel in the garden",
                "vi": "qu·ª≥ trong v∆£·ªùn",
                "pron": ""
            },
            {
                "en": "push the wheelbarrow",
                "vi": "ƒë·∫©y xe c√∫t k√≠t",
                "pron": ""
            },
            {
                "en": "operate heavy machine",
                "vi": "ƒëi·ªÅu khi·ªÉn trang thi·∫øt b·ªã n·∫∑ng",
                "pron": ""
            },
            {
                "en": "vacuum the floor",
                "vi": "h√∫t b·ª•i s√†n nh√†",
                "pron": ""
            },
            {
                "en": "lead to",
                "vi": "d·∫´n ƒë·∫øn",
                "pron": ""
            },
            {
                "en": "change the light bulk",
                "vi": "thay b√≥ng ƒë√®n",
                "pron": ""
            },
            {
                "en": "fence",
                "vi": "h√†ng r√†o",
                "pron": ""
            },
            {
                "en": "railing",
                "vi": "lan can, r√†o ch·∫Øn",
                "pron": ""
            },
            {
                "en": "stairway",
                "vi": "c·∫ßu thang",
                "pron": ""
            },
            {
                "en": "construction site",
                "vi": "c√¥ng tr∆∞·ªùng x√¢y d·ª±ng",
                "pron": ""
            },
            {
                "en": "hold a shovel",
                "vi": "c·∫ßm c√°i x·∫ªng",
                "pron": ""
            },
            {
                "en": "be mounted on the wall",
                "vi": "treo tr√™n t∆∞·ªùng",
                "pron": ""
            },
            {
                "en": "dig in the ground",
                "vi": "ƒë√†o ƒë·∫•t",
                "pron": ""
            },
            {
                "en": "wear a safety hat",
                "vi": "ƒë·ªôi n√≥n b·∫£o hi·ªÉm",
                "pron": ""
            },
            {
                "en": "pave the road",
                "vi": "l√≥t ƒë∆∞·ªùng",
                "pron": ""
            },
            {
                "en": "brick",
                "vi": "g·∫°ch",
                "pron": ""
            },
            {
                "en": "load a box",
                "vi": "ch·ªü h·ªôp g·ªó",
                "pron": ""
            }
        ]
    },
    {
        "id": "3",
        "title": "N∆†I L√ÄM VI·ªÜC, TH·ªúI GIAN R·∫¢NH R·ªñI",
        "icon": "fa-cart-shopping",
        "color": "bg-blue-500",
        "words": [
            {
                "en": "applaud the speaker",
                "vi": "hoan ngh√™nh di·ªÖn gi·∫£",
                "pron": ""
            },
            {
                "en": "folder",
                "vi": "b√¨a t√†i li·ªáu",
                "pron": ""
            },
            {
                "en": "look into microscope",
                "vi": "nh√¨n v√†o k√≠nh hi·ªÉn vi",
                "pron": ""
            },
            {
                "en": "machine lid",
                "vi": "n·∫Øp ƒë·∫≠y m√°y",
                "pron": ""
            },
            {
                "en": "speak into a microphone",
                "vi": "n√≥i qua micro",
                "pron": ""
            },
            {
                "en": "make photocopies",
                "vi": "sao ch√©p l·∫°i",
                "pron": ""
            },
            {
                "en": "adjust the equipment",
                "vi": "ƒëi·ªÅu ch·ªânh thi·∫øt b·ªã",
                "pron": ""
            },
            {
                "en": "wear protective glasses",
                "vi": "ƒëeo k√≠nh b·∫£o h·ªô",
                "pron": ""
            },
            {
                "en": "doorway",
                "vi": "c·ª≠a ra v√†o",
                "pron": ""
            },
            {
                "en": "look through a report",
                "vi": "ƒë·ªçc k·ªπ b·∫£n b√°o c√°o",
                "pron": ""
            },
            {
                "en": "stare at a screen",
                "vi": "nh√¨n chƒÉm ch√∫ v√†o m√†n h√¨nh",
                "pron": ""
            },
            {
                "en": "be seated at a workstation",
                "vi": "ng·ªìi ·ªü ph√≤ng l√†m vi·ªác",
                "pron": ""
            },
            {
                "en": "sort through some paperwork",
                "vi": "s·∫Øp x·∫øp t√†i li·ªáu",
                "pron": ""
            },
            {
                "en": "reach for a knob",
                "vi": "v·ªõi t·ªõi qu·∫£ ƒë·∫•m c·ª≠a",
                "pron": ""
            },
            {
                "en": "hold the receiver to the ear",
                "vi": "gi·ªØ ·ªëng nghe s√°t tai",
                "pron": ""
            },
            {
                "en": "waive in the breeze",
                "vi": "lay ƒë·ªông trong gi√≥",
                "pron": ""
            },
            {
                "en": "rest outdoors",
                "vi": "ngh·ªâ ngo√†i tr·ªùi",
                "pron": ""
            },
            {
                "en": "extend over the hill",
                "vi": "tr·∫£i d√†i ƒë·∫øn b√™n kia ƒë·ªìi",
                "pron": ""
            },
            {
                "en": "upside-down",
                "vi": "l·ªôn ng∆∞·ª£c",
                "pron": ""
            },
            {
                "en": "be positioned",
                "vi": "ƒë∆∞·ª£c ƒë·∫∑t v√†o",
                "pron": ""
            },
            {
                "en": "walk toward an archway",
                "vi": "b∆∞·ªõc theo l·ªëi ƒëi c√≥ m√°i v√≤m",
                "pron": ""
            },
            {
                "en": "admire sculptures",
                "vi": "th∆£·ªüng th·ª©c c√°c t√°c ph·∫©m ƒëi√™u kh·∫Øc",
                "pron": ""
            },
            {
                "en": "hilltop",
                "vi": "ƒë·ªânh ƒë·ªìi",
                "pron": ""
            },
            {
                "en": "be seated in a row",
                "vi": "ng·ªìi th·∫≥ng h√†ng",
                "pron": ""
            },
            {
                "en": "water the plants",
                "vi": "t∆∞·ªõi n∆∞·ªõc cho c√¢y",
                "pron": ""
            },
            {
                "en": "being seating with one's legs cross",
                "vi": "ng·ªìi b·∫Øt ch√©o ch√¢n",
                "pron": ""
            },
            {
                "en": "spray water into the air",
                "vi": "x·ªãt n∆£·ªõc v√†o kh√¥ng kh√≠",
                "pron": ""
            },
            {
                "en": "grassy area",
                "vi": "khu v·ª±c ph·ªß ƒë·∫ßy c·ªè",
                "pron": ""
            },
            {
                "en": "hold a fishing pole",
                "vi": "c·∫ßm c·∫ßn c√¢u",
                "pron": ""
            },
            {
                "en": "row a boat",
                "vi": "ch√®o thuy·ªÅn",
                "pron": ""
            },
            {
                "en": "in the opposite direction",
                "vi": "·ªü h∆∞·ªõng ng∆£·ª£c l·∫°i",
                "pron": ""
            },
            {
                "en": "be reflected into the water",
                "vi": "ph·∫£n chi·∫øu qua m·∫∑t n∆£·ªõc",
                "pron": ""
            }
        ]
    },
    {
        "id": "4",
        "title": "TH·ªÇ B·ªä ƒê·ªòNG/MI√äU T·∫¢ GI√ÅN TI·∫æP",
        "icon": "fa-hammer",
        "color": "bg-orange-500",
        "words": [
            {
                "en": "be being carried out",
                "vi": "ƒëang ƒë∆∞·ª£c v·∫≠n chuy·ªÉn",
                "pron": ""
            },
            {
                "en": "be being renovated",
                "vi": "ƒëang ƒë∆∞·ª£c s·ª≠a ch·ªØa",
                "pron": ""
            },
            {
                "en": "be being displayed",
                "vi": "ƒëang ƒë∆∞·ª£c tr∆£ng b√†y",
                "pron": ""
            },
            {
                "en": "be being towed away",
                "vi": "ƒëang ƒë∆∞·ª£c k√©o ƒëi",
                "pron": ""
            },
            {
                "en": "be being packed",
                "vi": "ƒëang ƒë∆∞·ª£c ƒë√≥ng g√≥i",
                "pron": ""
            },
            {
                "en": "be being served",
                "vi": "ƒëang ƒë∆∞·ª£c ph·ª•c v·ª•",
                "pron": ""
            },
            {
                "en": "be being cleaned",
                "vi": "ƒëang ƒë∆∞·ª£c d·ªçn d·∫πp",
                "pron": ""
            },
            {
                "en": "be being weighed on the scale",
                "vi": "ƒëang ƒë∆∞·ª£c c√¢n",
                "pron": ""
            },
            {
                "en": "have been laid out",
                "vi": "ƒë√£ ƒë∆∞·ª£c b·ªë tr√≠",
                "pron": ""
            },
            {
                "en": "have been arranged",
                "vi": "ƒë√£ ƒë∆∞·ª£c s·∫Øp ƒë·∫∑t",
                "pron": ""
            },
            {
                "en": "have been covered with",
                "vi": "ƒë√£ b·ªã ph·ªß b·ªüi",
                "pron": ""
            },
            {
                "en": "have been left open",
                "vi": "ƒë√£ b·ªã m·ªü ra",
                "pron": ""
            },
            {
                "en": "have been sliced",
                "vi": "ƒë√£ ƒë∆∞·ª£c c·∫Øt l√°t",
                "pron": ""
            },
            {
                "en": "have been planted in rows",
                "vi": "ƒë√£ ƒë∆∞·ª£c tr·ªìng th√†nh h√†ng",
                "pron": ""
            },
            {
                "en": "have been stacked",
                "vi": "ƒë√£ ƒë∆∞·ª£c ch·∫•t th√†nh ƒë·ªëng",
                "pron": ""
            },
            {
                "en": "have been taken out",
                "vi": "ƒë√£ ƒë∆∞·ª£c l·∫•y ra",
                "pron": ""
            },
            {
                "en": "beverage",
                "vi": "th·ª©c u·ªëng",
                "pron": ""
            },
            {
                "en": "vehicle",
                "vi": "xe c·ªô",
                "pron": ""
            },
            {
                "en": "equipment",
                "vi": "trang thi·∫øt b·ªã",
                "pron": ""
            },
            {
                "en": "performance",
                "vi": "s·ª±/bu·ªïi bi·ªÉu di·ªÖn",
                "pron": ""
            },
            {
                "en": "(musical) instrument",
                "vi": "nh·∫°c c·ª•",
                "pron": ""
            },
            {
                "en": "attire/costume",
                "vi": "y ph·ª•c",
                "pron": ""
            },
            {
                "en": "produce",
                "vi": "n√¥ng ph·∫©m",
                "pron": ""
            },
            {
                "en": "electronic device",
                "vi": "thi·∫øt b·ªã ƒëi·ªán t·ª≠",
                "pron": ""
            },
            {
                "en": "protective gear",
                "vi": "trang thi·∫øt b·ªã b·∫£o h·ªô",
                "pron": ""
            }
        ]
    },
    {
        "id": "5",
        "title": "Nh√¢n s·ª±",
        "icon": "fa-plane",
        "color": "bg-green-500",
        "words": [
            {
                "en": "junior",
                "vi": "nh√¢n vi√™n t·∫≠p s·ª±",
                "pron": ""
            },
            {
                "en": "transfer",
                "vi": "s·ª± thuy√™n chuy·ªÉn",
                "pron": ""
            },
            {
                "en": "short-staffed",
                "vi": "thi·∫øu nh√¢n vi√™n",
                "pron": ""
            },
            {
                "en": "supervisor",
                "vi": "gi√°m s√°t vi√™n",
                "pron": ""
            },
            {
                "en": "boss",
                "vi": "√¥ng ch·ªß",
                "pron": ""
            },
            {
                "en": "sales representative",
                "vi": "nh√¢n vi√™n b√°n h√†ng",
                "pron": ""
            },
            {
                "en": "technician",
                "vi": "nh√¢n vi√™n k·ªπ thu·∫≠t",
                "pron": ""
            },
            {
                "en": "security officer",
                "vi": "nh√¢n vi√™n an ninh",
                "pron": ""
            },
            {
                "en": "administrative assistant",
                "vi": "tr·ª£ l√Ω gi√°m ƒë·ªëc",
                "pron": ""
            },
            {
                "en": "store clerk",
                "vi": "nh√¢n vi√™n b√°n h√†ng",
                "pron": ""
            },
            {
                "en": "personnel",
                "vi": "nh√¢n s·ª±",
                "pron": ""
            },
            {
                "en": "salesperson",
                "vi": "nh√¢n vi√™n b√°n h√†ng",
                "pron": ""
            },
            {
                "en": "crew",
                "vi": "ban, nh√≥m, ƒë·ªôi (c√¥ng t√°c)",
                "pron": ""
            },
            {
                "en": "coworker",
                "vi": "ƒë·ªìng nghi·ªáp",
                "pron": ""
            },
            {
                "en": "colleague",
                "vi": "ƒë·ªìng nghi·ªáp",
                "pron": ""
            },
            {
                "en": "plumber",
                "vi": "th·ª£ s·ª≠a ·ªëng n∆∞·ªõc",
                "pron": ""
            },
            {
                "en": "receptionist",
                "vi": "nh√¢n vi√™n ti·∫øp t√¢n",
                "pron": ""
            },
            {
                "en": "automatic mechanic",
                "vi": "th·ª£ s·ª≠a xe h∆°i",
                "pron": ""
            }
        ]
    },
    {
        "id": "6",
        "title": "Ph·ªèng v·∫•n",
        "icon": "fa-user-doctor",
        "color": "bg-yellow-500",
        "words": [
            {
                "en": "fill out an application",
                "vi": "ƒëi·ªÅn ƒë∆°n xin vi·ªác",
                "pron": ""
            },
            {
                "en": "cover letter",
                "vi": "th∆∞ xin vi·ªác",
                "pron": ""
            },
            {
                "en": "candidate",
                "vi": "ng∆∞·ªùi d·ª± tuy·ªÉn, ·ª©ng vi√™n",
                "pron": ""
            },
            {
                "en": "qualifications",
                "vi": "tr√¨nh ƒë·ªô chuy√™n m√¥n",
                "pron": ""
            },
            {
                "en": "certificate",
                "vi": "b·∫±ng c·∫•p, gi·∫•y ch·ª©ng nh·∫≠n",
                "pron": ""
            },
            {
                "en": "company policy",
                "vi": "ch√≠nh s√°ch c√¥ng ty",
                "pron": ""
            },
            {
                "en": "be entitled to do",
                "vi": "c√≥ quy·ªÅn (l√†m g√¨)",
                "pron": ""
            },
            {
                "en": "replacement",
                "vi": "ng∆∞·ªùi thay th·∫ø",
                "pron": ""
            },
            {
                "en": "annual salary",
                "vi": "l∆∞∆°ng h√†ng nƒÉm",
                "pron": ""
            },
            {
                "en": "vacancy",
                "vi": "ch·ªó tr·ªëng",
                "pron": ""
            },
            {
                "en": "workplace",
                "vi": "n∆°i l√†m vi·ªác",
                "pron": ""
            },
            {
                "en": "working conditions",
                "vi": "ƒëi·ªÅu ki·ªán l√†m vi·ªác",
                "pron": ""
            },
            {
                "en": "reception desk",
                "vi": "b√†n l·ªÖ t√¢n",
                "pron": ""
            },
            {
                "en": "minimum requirements",
                "vi": "ƒëi·ªÅu ki·ªán t·ªëi thi·ªÉu",
                "pron": ""
            },
            {
                "en": "narrow down the applicants",
                "vi": "tuy·ªÉn ch·ªçn ·ª©ng vi√™n",
                "pron": ""
            }
        ]
    },
    {
        "id": "7",
        "title": "S·∫£n ph·∫©m",
        "icon": "fa-users",
        "color": "bg-purple-500",
        "words": [
            {
                "en": "special offer",
                "vi": "gi·∫£m gi√° ƒë·∫∑c bi·ªát",
                "pron": ""
            },
            {
                "en": "inventory",
                "vi": "b·∫£n k√™ khai h√†ng h√≥a",
                "pron": ""
            },
            {
                "en": "out of stock",
                "vi": "h·∫øt h√†ng trong kho",
                "pron": ""
            },
            {
                "en": "refund",
                "vi": "tr·∫£ l·∫°i ti·ªÅn, s·ª± b·ªìi ho√†n",
                "pron": ""
            },
            {
                "en": "manufacturer",
                "vi": "nh√† s·∫£n xu·∫•t",
                "pron": ""
            },
            {
                "en": "warehouse",
                "vi": "kho h√†ng",
                "pron": ""
            },
            {
                "en": "stockroom",
                "vi": "kho h√†ng",
                "pron": ""
            },
            {
                "en": "release",
                "vi": "tung ra (s·∫£n ph·∫©m)",
                "pron": ""
            },
            {
                "en": "launch",
                "vi": "tung ra (s·∫£n ph·∫©m)",
                "pron": ""
            },
            {
                "en": "details",
                "vi": "chi ti·∫øt (s·∫£n ph·∫©m)",
                "pron": ""
            },
            {
                "en": "estimates",
                "vi": "b·∫£ng b√°o gi√°",
                "pron": ""
            },
            {
                "en": "expedite",
                "vi": "x√∫c ti·∫øn",
                "pron": ""
            },
            {
                "en": "defects",
                "vi": "khuy·∫øt ƒëi·ªÉm",
                "pron": ""
            },
            {
                "en": "warranty",
                "vi": "gi·∫•y b·∫£o h√†nh",
                "pron": ""
            },
            {
                "en": "rebate",
                "vi": "ho√†n l·∫°i m·ªôt ph·∫ßn ti·ªÅn (sau khi ƒë√£ mua s·∫£n ph·∫©m)",
                "pron": ""
            },
            {
                "en": "distribute",
                "vi": "ph√¢n ph·ªëi",
                "pron": ""
            },
            {
                "en": "supplier",
                "vi": "nh√† cung c·∫•p",
                "pron": ""
            },
            {
                "en": "wall-mounted unit",
                "vi": "lo·∫°i treo t∆∞·ªùng",
                "pron": ""
            },
            {
                "en": "bulk purchase",
                "vi": "mua h√†ng s·ªë l∆∞·ª£ng l·ªõn",
                "pron": ""
            }
        ]
    },
    {
        "id": "8",
        "title": "H·ªôi ngh·ªã, chuy·∫øn ƒëi c√¥ng t√°c",
        "icon": "fa-school",
        "color": "bg-red-500",
        "words": [
            {
                "en": "registration",
                "vi": "s·ª± ƒëƒÉng k√≠",
                "pron": ""
            },
            {
                "en": "information packet",
                "vi": "m·ªôt x·∫•p c√°c t·∫≠p s√°ch nh·ªè, cung c·∫•p th√¥ng tin",
                "pron": ""
            },
            {
                "en": "itinerary",
                "vi": "l·ªô tr√¨nh",
                "pron": ""
            },
            {
                "en": "amenities",
                "vi": "ti·ªán nghi",
                "pron": ""
            },
            {
                "en": "agenda",
                "vi": "chu∆∞∆°ng tr√¨nh ngh·ªã s·ª±",
                "pron": ""
            },
            {
                "en": "give a presentation",
                "vi": "tr√¨nh b√†y",
                "pron": ""
            },
            {
                "en": "be away on a trip",
                "vi": "ƒëang ƒëi c√¥ng t√°c",
                "pron": ""
            },
            {
                "en": "fundraising",
                "vi": "g√¢y qu·ªπ",
                "pron": ""
            },
            {
                "en": "conference",
                "vi": "h·ªôi ngh·ªã",
                "pron": ""
            },
            {
                "en": "arrange a meeting",
                "vi": "chu·∫©n b·ªã m·ªôt cu·ªôc h·ªçp",
                "pron": ""
            },
            {
                "en": "handout",
                "vi": "t√†i li·ªáu ph√°t tay",
                "pron": ""
            },
            {
                "en": "draft",
                "vi": "b·∫£n ph√°c th·∫£o, ƒë·ªÅ c∆∞∆°ng",
                "pron": ""
            },
            {
                "en": "training seminar",
                "vi": "h·ªôi th·∫£o hu·∫•n luy·ªán",
                "pron": ""
            },
            {
                "en": "trade show",
                "vi": "h·ªôi ch·ª£ tri·ªÉn l√£m th∆∞∆°ng m·∫°i",
                "pron": ""
            },
            {
                "en": "submit the proposal",
                "vi": "ƒë·ªá tr√¨nh b·∫£n k·∫ø ho·∫°ch",
                "pron": ""
            },
            {
                "en": "session",
                "vi": "ni√™n kh√≥a, phi√™n h·ªçp",
                "pron": ""
            }
        ]
    },
    {
        "id": "9",
        "title": "C√¥ng vi·ªác",
        "icon": "fa-briefcase",
        "color": "bg-teal-500",
        "words": [
            {
                "en": "contract",
                "vi": "h·ª£p d·ªìng",
                "pron": ""
            },
            {
                "en": "expire",
                "vi": "h·∫øt h·∫°n",
                "pron": ""
            },
            {
                "en": "benefits",
                "vi": "ph√∫c l·ª£i",
                "pron": ""
            },
            {
                "en": "headquarters",
                "vi": "tr·ª• s·ªü",
                "pron": ""
            },
            {
                "en": "branch",
                "vi": "chi nh√°nh",
                "pron": ""
            },
            {
                "en": "access card",
                "vi": "th·∫ª ra v√†o",
                "pron": ""
            },
            {
                "en": "allocate",
                "vi": "ph√¢n ph·ªëi, c·∫•p",
                "pron": ""
            },
            {
                "en": "laptop (computer)",
                "vi": "m√°y t√≠nh x√°ch tay",
                "pron": ""
            },
            {
                "en": "sales report",
                "vi": "b√°o c√°o kinh doanh",
                "pron": ""
            },
            {
                "en": "workflow process",
                "vi": "qu√° tr√¨nh x·ª≠ l√Ω c√¥ng vi·ªác",
                "pron": ""
            },
            {
                "en": "deal",
                "vi": "th·ªèa thu·∫≠n mua b√°n",
                "pron": ""
            },
            {
                "en": "commute",
                "vi": "ƒëi l·∫°i h√†ng ng√†y t·ª´ nh√† ƒë·∫øn n∆°i l√†m vi·ªác",
                "pron": ""
            },
            {
                "en": "call in sick",
                "vi": "g·ªçi ƒëi·ªán b√°o ·ªëm",
                "pron": ""
            },
            {
                "en": "annual budget",
                "vi": "ng√¢n s√°ch h√†ng nƒÉm",
                "pron": ""
            },
            {
                "en": "specialty",
                "vi": "chuy√™n ng√†nh, chuy√™n m√¥n",
                "pron": ""
            },
            {
                "en": "assignment",
                "vi": "nhi·ªám v·ª• (ƒë∆∞·ª£c ph√¢n c√¥ng)",
                "pron": ""
            },
            {
                "en": "marketing strategy",
                "vi": "chi·∫øn l∆∞·ª£c kinh doanh",
                "pron": ""
            },
            {
                "en": "performance",
                "vi": "hi·ªáu su·∫•t, th√†nh t√≠ch",
                "pron": ""
            },
            {
                "en": "bulletin board",
                "vi": "b·∫£ng th√¥ng b√°o",
                "pron": ""
            }
        ]
    },
    {
        "id": "10",
        "title": "S√¢n bay, du l·ªãch",
        "icon": "fa-cart-shopping",
        "color": "bg-blue-500",
        "words": [
            {
                "en": "catch a plane",
                "vi": "ƒë√°p m√°y bay",
                "pron": ""
            },
            {
                "en": "miss the connection",
                "vi": "nh·ª° chuy·∫øn xe, t√†u (ch·∫°y n·ªëi ti·∫øp nhau)",
                "pron": ""
            },
            {
                "en": "package tour",
                "vi": "tua du l·ªãch tr·ªçn g√≥i",
                "pron": ""
            },
            {
                "en": "carousel",
                "vi": "bƒÉng t·∫£i h√†nh l√Ω (·ªü s√¢n bay)",
                "pron": ""
            },
            {
                "en": "aisle seat",
                "vi": "ch·ªó ng·ªìi g·∫ßn l·ªëi ƒëi",
                "pron": ""
            },
            {
                "en": "direct flight",
                "vi": "chuy·∫øn bay th·∫≥ng",
                "pron": ""
            },
            {
                "en": "board",
                "vi": "l√™n m√°y bay",
                "pron": ""
            },
            {
                "en": "final destination",
                "vi": "ƒëi·ªÉm ƒë·∫øn cu·ªëi c√πng",
                "pron": ""
            },
            {
                "en": "travel agent",
                "vi": "nh√¢n vi√™n du l·ªãch",
                "pron": ""
            },
            {
                "en": "adjust to the time difference",
                "vi": "th√≠ch nghi v·ªõi s·ª± thay ƒë·ªïi m√∫i gi·ªù",
                "pron": ""
            },
            {
                "en": "accommodation",
                "vi": "ch·ªó ·ªü",
                "pron": ""
            },
            {
                "en": "carry-on baggage",
                "vi": "h√†nh l√Ω mang theo l√™n m√°y bay",
                "pron": ""
            },
            {
                "en": "clear customs",
                "vi": "l√†m th·ªß t·ª•c h·∫£i quan",
                "pron": ""
            },
            {
                "en": "souvenir",
                "vi": "ƒë·ªì l∆∞u ni·ªám",
                "pron": ""
            },
            {
                "en": "exit",
                "vi": "l·ªëi tho√°t",
                "pron": ""
            },
            {
                "en": "courtesy shuttle",
                "vi": "xe ƒë∆∞a ƒë√≥n mi·ªÖn ph√≠",
                "pron": ""
            }
        ]
    },
    {
        "id": "11",
        "title": "B·ªánh vi·ªán",
        "icon": "fa-hammer",
        "color": "bg-orange-500",
        "words": [
            {
                "en": "eye exam",
                "vi": "kh√°m m·∫Øt",
                "pron": ""
            },
            {
                "en": "dental appointment",
                "vi": "h·∫πn kh√°m rƒÉng",
                "pron": ""
            },
            {
                "en": "doctor's office",
                "vi": "ph√≤ng m·∫°ch",
                "pron": ""
            },
            {
                "en": "have a baby",
                "vi": "sinh con",
                "pron": ""
            },
            {
                "en": "laboratory",
                "vi": "ph√≤ng th√≠ nghi·ªám",
                "pron": ""
            },
            {
                "en": "medication",
                "vi": "thu·ªëc (ƒëi·ªÅu tr·ªã)",
                "pron": ""
            },
            {
                "en": "alleviate",
                "vi": "l√†m gi·∫£m ƒëau",
                "pron": ""
            },
            {
                "en": "prescription",
                "vi": "toa thu·ªëc",
                "pron": ""
            },
            {
                "en": "itchy",
                "vi": "ng·ª©a ng√°y",
                "pron": ""
            },
            {
                "en": "hoarse",
                "vi": "kh√†n gi·ªçng",
                "pron": ""
            },
            {
                "en": "sore throat",
                "vi": "vi√™m h·ªçng",
                "pron": ""
            },
            {
                "en": "diabetes",
                "vi": "b·ªánh ti·ªÉu ƒë∆∞·ªùng",
                "pron": ""
            },
            {
                "en": "lose/gain weight",
                "vi": "gi·∫£m/tƒÉng c√¢n",
                "pron": ""
            },
            {
                "en": "get an injection",
                "vi": "ti√™m thu·ªëc",
                "pron": ""
            }
        ]
    },
    {
        "id": "12",
        "title": "C·∫•u tr√∫c c√¥ng ty",
        "icon": "fa-plane",
        "color": "bg-green-500",
        "words": [
            {
                "en": "CEO",
                "vi": "T·ªïng gi√°m ƒë·ªëc",
                "pron": ""
            },
            {
                "en": "Vice president",
                "vi": "Ph√≥ ch·ªß t·ªãch",
                "pron": ""
            },
            {
                "en": "Director/Division Head",
                "vi": "Gi√°m ƒë·ªëc",
                "pron": ""
            },
            {
                "en": "Manager",
                "vi": "Tr∆∞·ªüng ph√≤ng",
                "pron": ""
            },
            {
                "en": "Assistant Manager",
                "vi": "Ph√≥ ph√≤ng",
                "pron": ""
            },
            {
                "en": "Human Resources",
                "vi": "Ph√≤ng Nh√¢n s·ª±",
                "pron": ""
            },
            {
                "en": "Research and Development",
                "vi": "Ph√≤ng nghi√™n c·ª©u v√† Ph√°t tri·ªÉn",
                "pron": ""
            },
            {
                "en": "General Affairs",
                "vi": "Ph√≤ng h√†nh ch√≠nh",
                "pron": ""
            },
            {
                "en": "Editorial",
                "vi": "Ph√≤ng bi√™n t·∫≠p",
                "pron": ""
            },
            {
                "en": "Public Relations",
                "vi": "Ph√≤ng Quan h·ªá C√¥ng ch√∫ng",
                "pron": ""
            },
            {
                "en": "Overseas Sales",
                "vi": "Ph√≤ng Kinh doanh v·ªõi n∆∞·ªõc ngo√†i",
                "pron": ""
            },
            {
                "en": "Marketing",
                "vi": "Ph√≤ng ti·∫øp th·ªã",
                "pron": ""
            },
            {
                "en": "Shipping",
                "vi": "B·ªô ph·∫≠n ph·ª• tr√°ch v·∫≠n chuy·ªÉn",
                "pron": ""
            }
        ]
    },
    {
        "id": "13",
        "title": "B·∫•t ƒë·ªông s·∫£n, ng√¢n h√†ng",
        "icon": "fa-user-doctor",
        "color": "bg-yellow-500",
        "words": [
            {
                "en": "property",
                "vi": "b·∫•t ƒë·ªông s·∫£n",
                "pron": ""
            },
            {
                "en": "complex",
                "vi": "khu nh√† ƒë·∫•t",
                "pron": ""
            },
            {
                "en": "real estate agent",
                "vi": "nh√¢n vi√™n m√¥i gi·ªõi b·∫•t ƒë·ªông s·∫£n",
                "pron": ""
            },
            {
                "en": "tenant",
                "vi": "ng∆∞·ªùi thu√™ nh√†",
                "pron": ""
            },
            {
                "en": "landlord",
                "vi": "ch·ªß nh√†",
                "pron": ""
            },
            {
                "en": "move into",
                "vi": "d·ªùi ƒë·∫øn",
                "pron": ""
            },
            {
                "en": "move out of",
                "vi": "d·ªùi ƒëi",
                "pron": ""
            },
            {
                "en": "renovation",
                "vi": "s·ª± s·ª≠a ch·ªØa (nh√† c·ª≠a)",
                "pron": ""
            },
            {
                "en": "establishment",
                "vi": "c∆° s·ªü, c∆° ng∆°i",
                "pron": ""
            },
            {
                "en": "utilities",
                "vi": "d·ªãch v·ª• ƒëi·ªán, n∆∞·ªõc",
                "pron": ""
            },
            {
                "en": "suburb",
                "vi": "ngo·∫°i √¥",
                "pron": ""
            },
            {
                "en": "rental price",
                "vi": "gi√° thu√™ nh√†",
                "pron": ""
            },
            {
                "en": "lease",
                "vi": "cho thu√™, thu√™",
                "pron": ""
            },
            {
                "en": "deposit slip",
                "vi": "phi·∫øu g·ª≠i ti·ªÅn v√†o t√†i kho·∫£n",
                "pron": ""
            },
            {
                "en": "small business loan",
                "vi": "ti·ªÅn cho c√°c doanh nghi·ªáp nh·ªè vay",
                "pron": ""
            },
            {
                "en": "open an account",
                "vi": "m·ªü m·ªôt t√†i kho·∫£n",
                "pron": ""
            },
            {
                "en": "porfolio",
                "vi": "danh m·ª•c v·ªën ƒë·∫ßu t∆∞",
                "pron": ""
            },
            {
                "en": "exchange",
                "vi": "trao ƒë·ªïi",
                "pron": ""
            },
            {
                "en": "statement",
                "vi": "b·∫£n k√™ khai",
                "pron": ""
            },
            {
                "en": "online banking",
                "vi": "ho·∫°t ƒë·ªông ng√¢n h√†ng tr√™n m·∫°ng",
                "pron": ""
            }
        ]
    },
    {
        "id": "14",
        "title": "S·∫Øp x·∫øp l·ªãch l√†m vi·ªác",
        "icon": "fa-users",
        "color": "bg-purple-500",
        "words": [
            {
                "en": "reschedule",
                "vi": "s·∫Øp x·∫øp l·∫°i l·ªãch l√†m vi·ªác",
                "pron": ""
            },
            {
                "en": "postpone",
                "vi": "ho√£n l·∫°i",
                "pron": ""
            },
            {
                "en": "make a reservation",
                "vi": "ƒë·∫∑t tr∆∞·ªõc",
                "pron": ""
            },
            {
                "en": "book",
                "vi": "ƒë·∫∑t tr∆∞·ªõc",
                "pron": ""
            },
            {
                "en": "call back",
                "vi": "g·ªçi l·∫°i",
                "pron": ""
            },
            {
                "en": "make an appointment",
                "vi": "h·∫πn tr∆∞·ªõc",
                "pron": ""
            },
            {
                "en": "function",
                "vi": "s·ª± ki·ªán quan tr·ªçng",
                "pron": ""
            },
            {
                "en": "arrange another date",
                "vi": "s·∫Øp x·∫øp l·ªãch l√†m vi·ªác v√†o ng√†y th√°ng kh√°c",
                "pron": ""
            },
            {
                "en": "itinerary",
                "vi": "ch∆∞∆°ng tr√¨nh l√†m vi·ªác",
                "pron": ""
            },
            {
                "en": "run late",
                "vi": "tr·ªÖ h∆°n so v·ªõi l·ªãch tr√¨nh",
                "pron": ""
            },
            {
                "en": "coordinate schedule",
                "vi": "ƒëi·ªÅu ch·ªânh l·ªãch l√†m vi·ªác",
                "pron": ""
            },
            {
                "en": "cancel",
                "vi": "h·ªßy",
                "pron": ""
            },
            {
                "en": "behind schedule",
                "vi": "tr·ªÖ h∆°n so v·ªõi l·ªãch tr√¨nh",
                "pron": ""
            },
            {
                "en": "meet the deadline",
                "vi": "k·ªãp th·ªùi h·∫°n",
                "pron": ""
            },
            {
                "en": "ahead of schedule",
                "vi": "tr∆∞·ªõc th·ªùi h·∫°n",
                "pron": ""
            },
            {
                "en": "have a conflict in schedule",
                "vi": "l·ªãch l√†m vi·ªác tr√πng nhau",
                "pron": ""
            }
        ]
    },
    {
        "id": "15",
        "title": "Th·ªùi gian r·∫£nh r·ªói",
        "icon": "fa-school",
        "color": "bg-red-500",
        "words": [
            {
                "en": "gym",
                "vi": "ph√≤ng t·∫≠p th·ªÉ d·ª•c",
                "pron": ""
            },
            {
                "en": "be sold out",
                "vi": "ƒë√£ b√°n h·∫øt",
                "pron": ""
            },
            {
                "en": "soap opera",
                "vi": "k·ªãch nhi·ªÅu k√¨ tr√™n ti vi, raƒëi√¥",
                "pron": ""
            },
            {
                "en": "bike trail",
                "vi": "ƒë∆∞·ªùng d√†nh cho xe ƒë·∫°p",
                "pron": ""
            },
            {
                "en": "art exhibit",
                "vi": "tri·ªÉn l√£m ngh·ªá thu·∫≠t",
                "pron": ""
            },
            {
                "en": "skating rink",
                "vi": "s√¢n bƒÉng, s√¢n patanh",
                "pron": ""
            },
            {
                "en": "premiere",
                "vi": "bu·ªïi di·ªÖn ra m·∫Øt, bu·ªïi c√¥ng chi·∫øu (phim)",
                "pron": ""
            },
            {
                "en": "convertible",
                "vi": "xe mui tr·∫ßn",
                "pron": ""
            },
            {
                "en": "work out",
                "vi": "t·∫≠p luy·ªán",
                "pron": ""
            },
            {
                "en": "car rental agency",
                "vi": "c√¥ng ty cho thu√™ xe",
                "pron": ""
            },
            {
                "en": "directions",
                "vi": "ch·ªâ d·∫´n, h∆∞·ªõng d·∫´n",
                "pron": ""
            },
            {
                "en": "double park",
                "vi": "ƒë·∫≠u xe b√™n c·∫°nh chi·∫øc xe kh√°c",
                "pron": ""
            },
            {
                "en": "maintenance",
                "vi": "vi·ªác b·∫£o tr√¨",
                "pron": ""
            },
            {
                "en": "personal belongings",
                "vi": "ƒë·ªì ƒë·∫°c c√° nh√¢n",
                "pron": ""
            }
        ]
    },
    {
        "id": "16",
        "title": "Nh·ªØng v·∫•n ƒë·ªÅ kh√°c",
        "icon": "fa-briefcase",
        "color": "bg-teal-500",
        "words": [
            {
                "en": "sponsor",
                "vi": "ng∆∞·ªùi ƒë·ª° ƒë·∫ßu, doanh nghi·ªáp t√†i tr·ª£",
                "pron": ""
            },
            {
                "en": "silverware",
                "vi": "b·ªô ƒë·ªì ƒÉn b·∫±ng b·∫°c",
                "pron": ""
            },
            {
                "en": "appliance",
                "vi": "thi·∫øt b·ªã gia d·ª•ng ƒëi·ªán t·ª≠",
                "pron": ""
            },
            {
                "en": "pick up lunch",
                "vi": "ƒëi ƒÉn tr∆∞a",
                "pron": ""
            },
            {
                "en": "freshly-baked",
                "vi": "m·ªõi n∆∞·ªõng",
                "pron": ""
            },
            {
                "en": "remodeling",
                "vi": "vi·ªác tu s·ª≠a l·∫°i",
                "pron": ""
            },
            {
                "en": "voucher",
                "vi": "phi·∫øu tr·∫£ ti·ªÅn",
                "pron": ""
            },
            {
                "en": "premium",
                "vi": "ph√≠ b·∫£o hi·ªÉm",
                "pron": ""
            },
            {
                "en": "gift-wrap",
                "vi": "g√≥i qu√† t·∫∑ng",
                "pron": ""
            },
            {
                "en": "distribution",
                "vi": "s·ª± ph√¢n ph·ªëi",
                "pron": ""
            },
            {
                "en": "relative",
                "vi": "h·ªç h√†ng th√¢n thu·ªôc",
                "pron": ""
            },
            {
                "en": "catering",
                "vi": "vi·ªác cung c·∫•p th·ª±c ph·∫©m cho c√°c d·ªãp l·ªÖ, s·ª± ki·ªán l·ªõn",
                "pron": ""
            },
            {
                "en": "renovation",
                "vi": "s·ª± ƒë·ªïi m·ªõi",
                "pron": ""
            },
            {
                "en": "guarantee",
                "vi": "b·∫£o h√†nh",
                "pron": ""
            },
            {
                "en": "policy",
                "vi": "ƒëi·ªÅu kho·∫£n b·∫£o hi·ªÉm",
                "pron": ""
            }
        ]
    },
    {
        "id": "17",
        "title": "Th√¥ng b√°o",
        "icon": "fa-cart-shopping",
        "color": "bg-blue-500",
        "words": [
            {
                "en": "Annual report",
                "vi": "Th√¥ng b√°o th∆∞·ªùng ni√™n",
                "pron": ""
            },
            {
                "en": "Track",
                "vi": "Theo ƒëu·ªïi, theo d·∫•u",
                "pron": ""
            },
            {
                "en": "Attribute",
                "vi": "Cho l√†, quy cho l√†",
                "pron": ""
            },
            {
                "en": "Shut down",
                "vi": "K·∫øt th√∫c, ng·ª´ng ho·∫°t ƒë·ªông",
                "pron": ""
            },
            {
                "en": "Dedication",
                "vi": "S·ª± t·∫≠n t√¢m",
                "pron": ""
            },
            {
                "en": "Extra training",
                "vi": "Hu·∫•n luy·ªán th√™m",
                "pron": ""
            },
            {
                "en": "Clarity",
                "vi": "L√†m s√°ng t·ªè",
                "pron": ""
            },
            {
                "en": "Unplug",
                "vi": "R√∫t ph√≠ch c·∫Øm ra",
                "pron": ""
            },
            {
                "en": "Log off",
                "vi": "T·∫Øt (m√°y t√≠nh)",
                "pron": ""
            },
            {
                "en": "Assign",
                "vi": "Ph√¢n c√¥ng",
                "pron": ""
            },
            {
                "en": "Identification card",
                "vi": "Gi·∫•y ch·ª©ng minh",
                "pron": ""
            },
            {
                "en": "Securing system",
                "vi": "H·ªá th·ªëng an ninh",
                "pron": ""
            },
            {
                "en": "Temporary",
                "vi": "T·∫°m th·ªùi",
                "pron": ""
            },
            {
                "en": "Reduce the use of",
                "vi": "Gi·∫£m vi·ªác s·ª≠ d·ª•ng",
                "pron": ""
            }
        ]
    },
    {
        "id": "18",
        "title": "Th√¥ng b√°o ·ªü c·ª≠a h√†ng",
        "icon": "fa-hammer",
        "color": "bg-orange-500",
        "words": [
            {
                "en": "Attention, please!",
                "vi": "Xin ch√∫ √Ω",
                "pron": ""
            },
            {
                "en": "Alert",
                "vi": "C·∫£nh gi√°c",
                "pron": ""
            },
            {
                "en": "At half price",
                "vi": "Ph√¢n n·ª≠a gi√°",
                "pron": ""
            },
            {
                "en": "Miss out",
                "vi": "B·ªè qua c∆° h·ªôi",
                "pron": ""
            },
            {
                "en": "Complimentary",
                "vi": "Bi·∫øu, m·ªùi",
                "pron": ""
            },
            {
                "en": "Advantage",
                "vi": "∆Øu ƒëi·ªÉm",
                "pron": ""
            },
            {
                "en": "Proceed to",
                "vi": "ƒêi ƒë·∫øn",
                "pron": ""
            },
            {
                "en": "Shipping and handling charge",
                "vi": "Ph√≠ v·∫≠n chuy·ªÉn",
                "pron": ""
            },
            {
                "en": "Checkout line",
                "vi": "Qu·∫ßy t√≠nh ti·ªÅn",
                "pron": ""
            },
            {
                "en": "On duty &gt;&lt; Off duty",
                "vi": "ƒêang l√†m vi·ªác &gt;&lt; H·∫øt ca l√†m vi·ªác",
                "pron": ""
            },
            {
                "en": "At a large discount",
                "vi": "ƒê·∫°i h·∫° gi√°",
                "pron": ""
            },
            {
                "en": "Organic",
                "vi": "C√≥ h·ªá th·ªëng, h·ªØu c∆°",
                "pron": ""
            },
            {
                "en": "Bulky",
                "vi": "C·ªìng k·ªÅnh",
                "pron": ""
            },
            {
                "en": "Patron",
                "vi": "Kh√°ch quen",
                "pron": ""
            },
            {
                "en": "Circulation desk",
                "vi": "Qu·∫ßy cho m∆∞·ª£n s√°ch",
                "pron": ""
            },
            {
                "en": "Extend operating hours",
                "vi": "K√©o d√†i gi·ªù ho·∫°t ƒë·ªông",
                "pron": ""
            }
        ]
    },
    {
        "id": "19",
        "title": "Th√¥ng b√°o li√™n quan ƒë·∫øn giao th√¥ng",
        "icon": "fa-plane",
        "color": "bg-green-500",
        "words": [
            {
                "en": "Be closed for",
                "vi": "B·ªã ch·∫∑n l·∫°i v√¨",
                "pron": ""
            },
            {
                "en": "Closure",
                "vi": "S·ª± ƒë√≥ng c·ª≠a (ch·∫∑n ƒë∆∞·ªùng)",
                "pron": ""
            },
            {
                "en": "Southbound",
                "vi": "ƒêi v·ªÅ ph√≠a nam",
                "pron": ""
            },
            {
                "en": "Board the vehicle",
                "vi": "L√™n xe",
                "pron": ""
            },
            {
                "en": "On the scene",
                "vi": "·ªû hi·ªán tr∆∞·ªùng",
                "pron": ""
            },
            {
                "en": "Direct traffic",
                "vi": "H∆∞·ªõng d·∫´n lu·ªìng xe c·ªô",
                "pron": ""
            },
            {
                "en": "Take an alternate route",
                "vi": "ƒêi ƒë∆∞·ªùng v√≤ng",
                "pron": ""
            },
            {
                "en": "Landing",
                "vi": "H·∫° c√°nh",
                "pron": ""
            },
            {
                "en": "Incoming &gt;&lt; Outcoming",
                "vi": "ƒêi v√†o &gt;&lt; ƒêi ra, r·ªùi",
                "pron": ""
            },
            {
                "en": "Periodically",
                "vi": "Theo ƒë·ªãnh k√¨",
                "pron": ""
            },
            {
                "en": "Underway",
                "vi": "(k·∫ø ho·∫°ch) ƒëang ti·∫øn h√†nh",
                "pron": ""
            },
            {
                "en": "Be caught in traffic",
                "vi": "B·ªã k·∫πt xe",
                "pron": ""
            },
            {
                "en": "Intersection",
                "vi": "Giao l·ªô",
                "pron": ""
            },
            {
                "en": "Turbulence",
                "vi": "S·ª± h·ªón lo·∫°n",
                "pron": ""
            },
            {
                "en": "Flight itinerary",
                "vi": "Th·ªùi bi·ªÉu c√°c chuy·∫øn bay",
                "pron": ""
            },
            {
                "en": "Cancellation",
                "vi": "S·ª± h·ªßy b·ªè",
                "pron": ""
            }
        ]
    },
    {
        "id": "20",
        "title": "Tin nh·∫Øn h∆∞·ªõng d·∫´n t·ª± ƒë·ªông",
        "icon": "fa-user-doctor",
        "color": "bg-yellow-500",
        "words": [
            {
                "en": "reach",
                "vi": "ƒê∆∞·ª£c n·ªëi ƒë·∫øn",
                "pron": ""
            },
            {
                "en": "Technical problem",
                "vi": "S·ª± c·ªë k·ªπ thu·∫≠t",
                "pron": ""
            },
            {
                "en": "Extension (ext.)",
                "vi": "S·ªë n·ªôi b·ªô, s·ªë m√°y nh√°nh",
                "pron": ""
            },
            {
                "en": "Regular hours",
                "vi": "Gi·ªù ho·∫°t ƒë·ªông th∆∞·ªùng l·ªá",
                "pron": ""
            },
            {
                "en": "Come across",
                "vi": "T√¨nh c·ªù ph√°t hi·ªán",
                "pron": ""
            },
            {
                "en": "Put someone through",
                "vi": "(ƒêi·ªán tho·∫°i) n·ªëi m√°y v·ªõi",
                "pron": ""
            },
            {
                "en": "Automated telephone reservation",
                "vi": "H·ªá th·ªëng ƒë·∫∑t tr∆∞·ªõc qua ƒëi·ªán tho·∫°i t·ª±",
                "pron": ""
            },
            {
                "en": "system",
                "vi": "ƒë·ªông",
                "pron": ""
            },
            {
                "en": "Press",
                "vi": "Nh·∫•n s·ªë",
                "pron": ""
            },
            {
                "en": "After the tone",
                "vi": "Sau khi nghe ti·∫øng b√≠p",
                "pron": ""
            },
            {
                "en": "Agent",
                "vi": "Nh√¢n vi√™n",
                "pron": ""
            },
            {
                "en": "Call back",
                "vi": "G·ªçi l·∫°i",
                "pron": ""
            },
            {
                "en": "Hang up",
                "vi": "C√∫p m√°y",
                "pron": ""
            },
            {
                "en": "Hold on",
                "vi": "Gi·ªØ m√°y ch·ªù",
                "pron": ""
            },
            {
                "en": "Telephone operator",
                "vi": "Nh√¢n vi√™n tr·ª±c t·ªïng ƒë√†i ƒëi·ªán tho·∫°i",
                "pron": ""
            },
            {
                "en": "Connect",
                "vi": "K·∫øt n·ªëi",
                "pron": ""
            }
        ]
    },
    {
        "id": "21",
        "title": "H·ªôp th∆∞ tho·∫°i c√° nh√¢n",
        "icon": "fa-users",
        "color": "bg-purple-500",
        "words": [
            {
                "en": "Mobile phone",
                "vi": "ƒêi·ªán tho·∫°i di ƒë·ªông",
                "pron": ""
            },
            {
                "en": "Ready for pick-up",
                "vi": "S·∫µn s√†ng nghe",
                "pron": ""
            },
            {
                "en": "Return a call",
                "vi": "G·ªçi ƒëi·ªán tr·∫£ l·ªùi",
                "pron": ""
            },
            {
                "en": "Answering machine",
                "vi": "M√°y tr·∫£ l·ªùi t·ª± ƒë·ªông",
                "pron": ""
            },
            {
                "en": "Be scheduled to do",
                "vi": "L√™n k·∫ø ho·∫°ch (l√†m g√¨)",
                "pron": ""
            },
            {
                "en": "Apologize for",
                "vi": "Xin l·ªói v·ªÅ",
                "pron": ""
            },
            {
                "en": "Make a phone call",
                "vi": "G·ªçi ƒëi·ªán tho·∫°i",
                "pron": ""
            },
            {
                "en": "Leave a message",
                "vi": "ƒê·ªÉ l·∫°i tin nh·∫Øn",
                "pron": ""
            },
            {
                "en": "Remind",
                "vi": "Nh·∫Øc, nh·∫Øc nh·ªü",
                "pron": ""
            },
            {
                "en": "Mailing address",
                "vi": "ƒê·ªãa ch·ªâ g·ª≠i th∆∞",
                "pron": ""
            },
            {
                "en": "Direct number",
                "vi": "ƒêi·ªán tho·∫°i ch√≠nh",
                "pron": ""
            },
            {
                "en": "Status of repair",
                "vi": "T√¨nh tr·∫°ng s·ª≠a ch·ªØa",
                "pron": ""
            }
        ]
    },
    {
        "id": "22",
        "title": "H·ªôp th∆∞ tho·∫°i c√¥ng vi·ªác",
        "icon": "fa-school",
        "color": "bg-red-500",
        "words": [
            {
                "en": "Voice mail message",
                "vi": "H·ªôp th∆∞ tho·∫°i",
                "pron": ""
            },
            {
                "en": "Toll-free number",
                "vi": "S·ªë ƒëi·ªán tho·∫°i mi·ªÖn c∆∞·ªõc ph√≠",
                "pron": ""
            },
            {
                "en": "Confirm",
                "vi": "X√°c nh·∫≠n",
                "pron": ""
            },
            {
                "en": "Appreciate",
                "vi": "ƒê√°nh gi√° cao, c·∫£m k√≠ch",
                "pron": ""
            },
            {
                "en": "Interruption",
                "vi": "S·ª± gi√°n ƒëo·∫°n",
                "pron": ""
            },
            {
                "en": "Area code",
                "vi": "M√£ v√πng",
                "pron": ""
            },
            {
                "en": "Get through",
                "vi": "K·∫øt n·ªëi ƒë∆∞·ª£c",
                "pron": ""
            },
            {
                "en": "Feel free to do",
                "vi": "(N√≥i khi cho ph√©p) c·ª© t·ª± nhi√™n (l√†m g√¨ ƒë√≥)",
                "pron": ""
            },
            {
                "en": "Place an order",
                "vi": "ƒê·∫∑t h√†ng",
                "pron": ""
            },
            {
                "en": "Out of office",
                "vi": "Kh√¥ng c√≥ m·∫∑t ·ªü vƒÉn ph√≤ng",
                "pron": ""
            },
            {
                "en": "Web site",
                "vi": "Trang web",
                "pron": ""
            },
            {
                "en": "Set up an appointment",
                "vi": "·∫§n ƒë·ªãnh cu·ªôc h·∫πn",
                "pron": ""
            },
            {
                "en": "System malfunction",
                "vi": "S·ª± tr·ª•c tr·∫∑c c·ªßa h·ªá th·ªëng",
                "pron": ""
            },
            {
                "en": "Job opening",
                "vi": "C∆° h·ªôi vi·ªác l√†m",
                "pron": ""
            }
        ]
    },
    {
        "id": "23",
        "title": "D·ª± b√°o th·ªùi ti·∫øt",
        "icon": "fa-briefcase",
        "color": "bg-teal-500",
        "words": [
            {
                "en": "Breezy",
                "vi": "C√≥ gi√≥ hiu hiu",
                "pron": ""
            },
            {
                "en": "Heavy rain",
                "vi": "M∆∞a to",
                "pron": ""
            },
            {
                "en": "Poor weather conditions",
                "vi": "ƒêi·ªÅu ki·ªán th·ªùi ti·∫øt t·ªìi t·ªá",
                "pron": ""
            },
            {
                "en": "Chilly",
                "vi": "R·∫•t l·∫°nh",
                "pron": ""
            },
            {
                "en": "Temperature",
                "vi": "Nhi·ªát ƒë·ªô",
                "pron": ""
            },
            {
                "en": "Celsius",
                "vi": "(ƒê·ªô) C",
                "pron": ""
            },
            {
                "en": "Fahrenheit",
                "vi": "(ƒê·ªô) F",
                "pron": ""
            },
            {
                "en": "Humidity",
                "vi": "ƒê·ªô ·∫©m",
                "pron": ""
            },
            {
                "en": "Degree",
                "vi": "ƒê·ªô",
                "pron": ""
            },
            {
                "en": "Gusty",
                "vi": "C√≥ gi√≥ gi·∫≠t t·ª´ng c∆°n",
                "pron": ""
            },
            {
                "en": "Scorcher",
                "vi": "Ng√†y r·∫•t n√≥ng, ng√†y tr·ªùi n√≥ng nh∆∞ thi√™u ƒë·ªët",
                "pron": ""
            },
            {
                "en": "High &gt;&lt; Low",
                "vi": "Cao &gt;&lt; Th·∫•p",
                "pron": ""
            },
            {
                "en": "Accumulation",
                "vi": "S·ª± t√≠ch t·ª•",
                "pron": ""
            }
        ]
    },
    {
        "id": "24",
        "title": "Gi·ªõi thi·ªáu s·∫£n ph·∫©m",
        "icon": "fa-cart-shopping",
        "color": "bg-blue-500",
        "words": [
            {
                "en": "Stay tuned for",
                "vi": "Gi·ªØ nguy√™n s√≥ng",
                "pron": ""
            },
            {
                "en": "Audience",
                "vi": "Th√≠nh gi·∫£",
                "pron": ""
            },
            {
                "en": "Newscaster",
                "vi": "Ph√°t thanh vi√™n ch∆∞∆°ng tr√¨nh tin t·ª©c",
                "pron": ""
            },
            {
                "en": "Radio show",
                "vi": "Ch∆∞∆°ng tr√¨nh radi√¥",
                "pron": ""
            },
            {
                "en": "Live",
                "vi": "(Ph√°t s√≥ng) tr·ª±c ti·∫øp",
                "pron": ""
            },
            {
                "en": "Critic",
                "vi": "Nh√† ph√™ b√¨nh",
                "pron": ""
            },
            {
                "en": "Channel",
                "vi": "K√™nh",
                "pron": ""
            },
            {
                "en": "Upcoming concert",
                "vi": "Bu·ªïi h√≤a nh·∫°c s·∫Øp t·ªõi",
                "pron": ""
            },
            {
                "en": "Be broadcast on",
                "vi": "ƒê∆∞·ª£c ph√°t s√≥ng tr√™n",
                "pron": ""
            },
            {
                "en": "Hourly",
                "vi": "H√†ng gi·ªù",
                "pron": ""
            },
            {
                "en": "Special guest",
                "vi": "Kh√°ch m·ªùi ƒë·∫∑c bi·ªát",
                "pron": ""
            },
            {
                "en": "Commercial break",
                "vi": "Th·ªùi gian qu·∫£ng c√°o",
                "pron": ""
            }
        ]
    },
    {
        "id": "25",
        "title": "Qu·∫£ng c√°o s·∫£n ph·∫©m",
        "icon": "fa-hammer",
        "color": "bg-orange-500",
        "words": [
            {
                "en": "Drop in",
                "vi": "Gh√© l·∫°i",
                "pron": ""
            },
            {
                "en": "Durable",
                "vi": "L√¢u b·ªÅn",
                "pron": ""
            },
            {
                "en": "Competitor",
                "vi": "ƒê·ªëi th·ªß c·∫°nh tranh",
                "pron": ""
            },
            {
                "en": "Dispatch",
                "vi": "G·ª≠i ƒëi",
                "pron": ""
            },
            {
                "en": "Sign up for",
                "vi": "ƒêƒÉng k√≠",
                "pron": ""
            },
            {
                "en": "Maintenance",
                "vi": "S·ª± b·∫£o tr√¨",
                "pron": ""
            },
            {
                "en": "Warranty",
                "vi": "Gi·∫•y b·∫£o h√†nh",
                "pron": ""
            },
            {
                "en": "Environmentally friendly",
                "vi": "Th√¢n thi·ªán v·ªõi m√¥i tr∆∞·ªùng",
                "pron": ""
            },
            {
                "en": "Utility company",
                "vi": "C√¥ng ty ti·ªán √≠ch c√¥ng c·ªông (cung ·ª©ng ƒëi·ªán,",
                "pron": ""
            },
            {
                "en": "Car show",
                "vi": "Cu·ªôc tri·ªÉn l√£m xe h∆°i",
                "pron": ""
            },
            {
                "en": "Nutritional value",
                "vi": "Gi√° tr·ªã dinh d∆∞·ª°ng",
                "pron": ""
            },
            {
                "en": "Equipment",
                "vi": "Trang thi·∫øt b·ªã",
                "pron": ""
            },
            {
                "en": "Instruction",
                "vi": "L·ªùi h∆∞·ªõng d·∫´n",
                "pron": ""
            },
            {
                "en": "Unit",
                "vi": "ƒê∆°n v·ªã",
                "pron": ""
            }
        ]
    },
    {
        "id": "26",
        "title": "H∆∞·ªõng d·∫´n tham quan",
        "icon": "fa-plane",
        "color": "bg-green-500",
        "words": [
            {
                "en": "Video equipment",
                "vi": "Thi·∫øt b·ªã video",
                "pron": ""
            },
            {
                "en": "Exhibit",
                "vi": "V·∫≠t tr∆∞ng b√†y",
                "pron": ""
            },
            {
                "en": "Key site",
                "vi": "Khu di t√≠ch quan tr·ªçng",
                "pron": ""
            },
            {
                "en": "Historic city",
                "vi": "Th√†nh ph·ªë c√≥ t·∫ßm quan tr·ªçng v·ªÅ m·∫∑t l·ªãch s·ª≠",
                "pron": ""
            },
            {
                "en": "Last approximately",
                "vi": "K√©o d√†i kho·∫£ng",
                "pron": ""
            },
            {
                "en": "Spectacular",
                "vi": "Ngo·∫°n m·ª•c",
                "pron": ""
            },
            {
                "en": "Aquarium",
                "vi": "B·ªÉ c√°",
                "pron": ""
            },
            {
                "en": "Lean out of the window",
                "vi": "Nho√†i ng∆∞·ªùi qua c·ª≠a s·ªï",
                "pron": ""
            },
            {
                "en": "Direct",
                "vi": "Ch·ªâ ƒë∆∞·ªùng, h∆∞·ªõng d·∫´n",
                "pron": ""
            },
            {
                "en": "Donation",
                "vi": "V·∫≠t t·∫∑ng/c√∫ng",
                "pron": ""
            },
            {
                "en": "Admission free",
                "vi": "Ph√≠ v√†o c·ª≠a",
                "pron": ""
            },
            {
                "en": "Landmark",
                "vi": "M·ªëc, s·ª± ki·ªán ƒë√°nh d·∫•u m·ªôt giai ƒëo·∫°n quan tr·ªçng",
                "pron": ""
            },
            {
                "en": "Tourist attraction",
                "vi": "N∆°i thu h√∫t kh√°ch du l·ªãch",
                "pron": ""
            }
        ]
    },
    {
        "id": "27",
        "title": "Gi·ªõi thi·ªáu",
        "icon": "fa-user-doctor",
        "color": "bg-yellow-500",
        "words": [
            {
                "en": "Instructor",
                "vi": "Gi·∫£ng vi√™n",
                "pron": ""
            },
            {
                "en": "Keynote speaker",
                "vi": "Ng∆∞·ªùi di·ªÖn thuy·∫øt ch√≠nh",
                "pron": ""
            },
            {
                "en": "Expert",
                "vi": "Chuy√™n gia",
                "pron": ""
            },
            {
                "en": "Prominent",
                "vi": "L·ªói l·∫°c, xu·∫•t ch√∫ng",
                "pron": ""
            },
            {
                "en": "Be honored to do",
                "vi": "H√¢n h·∫°nh/vinh d·ª± l√†m g√¨ ƒë√≥",
                "pron": ""
            },
            {
                "en": "Performance",
                "vi": "S·ª± bi·ªÉu di·ªÖn, th√†nh t·ª±u",
                "pron": ""
            },
            {
                "en": "Pager",
                "vi": "M√°y nh·∫Øn tin",
                "pron": ""
            },
            {
                "en": "Flash photography",
                "vi": "Ch·ª•p h√¨nh c√≥ ƒë√®n flash",
                "pron": ""
            },
            {
                "en": "Be prohibited",
                "vi": "B·ªã c·∫•m",
                "pron": ""
            },
            {
                "en": "Auditorium",
                "vi": "Th√≠nh ph√≤ng",
                "pron": ""
            },
            {
                "en": "Entrepreneur",
                "vi": "Doanh nh√¢n",
                "pron": ""
            },
            {
                "en": "Filmmaker",
                "vi": "Nh√† l√†m phim",
                "pron": ""
            },
            {
                "en": "Award ceremony",
                "vi": "L·ªÖ trao gi·∫£i th∆∞·ªüng",
                "pron": ""
            },
            {
                "en": "Work history",
                "vi": "Kinh nghi·ªám l√†m vi·ªác",
                "pron": ""
            }
        ]
    },
    {
        "id": "28",
        "title": "Thuy·∫øt tr√¨nh",
        "icon": "fa-users",
        "color": "bg-purple-500",
        "words": [
            {
                "en": "Principle",
                "vi": "Nguy√™n t·∫Øc",
                "pron": ""
            },
            {
                "en": "Supplement with",
                "vi": "B·ªï sung v·ªõi",
                "pron": ""
            },
            {
                "en": "Intermission",
                "vi": "Kho·∫£ng th·ªùi gian t·∫°m ngh·ªâ",
                "pron": ""
            },
            {
                "en": "Conserve energy",
                "vi": "B·∫£o to√†n nƒÉng l∆∞·ª£ng",
                "pron": ""
            },
            {
                "en": "Brief",
                "vi": "B√°o c√°o ng·∫Øn g·ªçn",
                "pron": ""
            },
            {
                "en": "Cover",
                "vi": "ƒê·ªÅ c·∫≠p ƒë·∫øn",
                "pron": ""
            },
            {
                "en": "Give one‚Äôs comments on the subject",
                "vi": "ƒê∆∞a ra nh·∫≠n x√©t v·ªÅ ch·ªß ƒë·ªÅ",
                "pron": ""
            },
            {
                "en": "Brainstorming",
                "vi": "ƒê·ªông n√£o",
                "pron": ""
            },
            {
                "en": "Comment",
                "vi": "Nh·∫≠n x√©t, l·ªùi ph√™ b√¨nh",
                "pron": ""
            }
        ]
    }
];

        // 2. STATE MANAGEMENT
        const app = {
            data: vocabularyData,
            config: {
                correctCode: "NAPCARD20KTHAGAONTOIEC",
                // Danh s√°ch c√°c m√£ code h·ª£p l·ªá (bao g·ªìm c·∫£ link QR user ƒëang d√πng)
                validCodes: [
                    "NAPCARD20KTHAGAONTOIEC",
                    "https://q.me-qr.com/mornqf4g",
                    "https://get-qr.com/umGK7G"
                ]
            },
            state: {
                isLoggedIn: false,
                html5QrCode: null,
                currentTopicIndex: null,
                learnedWords: {}, 
                flashcardQueue: [],
                currentCardIndex: 0,
                quizScore: 0,
                quizQueue: [],
                gameCards: [],
                gameSelected: [],
                gameMatches: 0,
                // New Features state
                spellingQueue: [],
                currentSpellingIndex: 0,
                spellingScore: 0,
                filterSource: 'all',
                searchTerm: ''
            },

            // --- Initialization ---
            init() {
                // Initialize Data with Mock Sources if missing
                this.data.forEach((t, i) => {
                    if (!t.source) {
                        // Mock assignment for demo purposes based on index
                        t.source = `Part ${(i % 4) + 1}`; 
                    }
                });

                // Check Dark Mode
                if (localStorage.getItem('toeic_dark_mode') === 'true') {
                    document.documentElement.classList.add('dark');
                }

                // Check Session Storage
                if (sessionStorage.getItem('toeic_auth') === 'true') {
                    this.state.isLoggedIn = true;
                }

                if (this.state.isLoggedIn) {
                    this.loadProgress();
                    this.goHome();
                } else {
                    this.showLogin();
                }

                // Initialize mobile menu
                this.initMobileMenu();
            },

            showLogin() {
                this.hideAllViews();
                document.getElementById('view-login').classList.remove('hidden');
                document.querySelector('nav').classList.add('hidden'); // Hide nav on login
            },

            handleLogin() {
                const input = document.getElementById('access-code').value.trim().toUpperCase();
                if (input === this.config.correctCode) {
                    this.completeLogin();
                } else {
                    alert('M√£ code kh√¥ng ch√≠nh x√°c! Vui l√≤ng th·ª≠ l·∫°i.');
                }
            },

            completeLogin() {
                this.state.isLoggedIn = true;
                sessionStorage.setItem('toeic_auth', 'true');
                this.stopScanner();
                document.querySelector('nav').classList.remove('hidden');
                this.loadProgress();
                this.goHome();
            },

            // --- QR Scanner ---
            startScanner() {
                document.getElementById('reader-container').classList.remove('hidden');
                document.getElementById('btn-scan-qr').classList.add('hidden'); 
                
                if (!this.state.html5QrCode) {
                    try {
                        this.state.html5QrCode = new Html5Qrcode("reader");
                    } catch (e) {
                        console.error("Init Error", e);
                    }
                }

                if (this.state.html5QrCode && this.state.html5QrCode.isScanning) return;

                const qrCodeSuccessCallback = (decodedText, decodedResult) => {
                    this.verifyCode(decodedText);
                };
                
                const config = { fps: 10, qrbox: { width: 250, height: 250 } };
                
                this.state.html5QrCode.start({ facingMode: "environment" }, config, qrCodeSuccessCallback)
                .catch(err => {
                    console.error("Error starting QR scanner", err);
                    alert("Kh√¥ng th·ªÉ m·ªü camera. Vui l√≤ng c·∫•p quy·ªÅn ho·∫∑c nh·∫≠p code th·ªß c√¥ng.");
                    this.stopScanner();
                });
            },

            async handleQrFile(input) {
                if (input.files.length === 0) return;
                const imageFile = input.files[0];

                // Ki·ªÉm tra lo·∫°i file
                const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp'];
                if (!allowedTypes.includes(imageFile.type)) {
                    alert('Ch·ªâ ch·∫•p nh·∫≠n file ·∫£nh c√≥ ƒë·ªãnh d·∫°ng: JPEG, PNG, GIF, WebP');
                    input.value = '';
                    return;
                }

                // Ki·ªÉm tra k√≠ch th∆∞·ªõc file (max 10MB)
                const maxSize = 10 * 1024 * 1024; // 10MB
                if (imageFile.size > maxSize) {
                    alert('K√≠ch th∆∞·ªõc file qu√° l·ªõn. Vui l√≤ng ch·ªçn file d∆∞·ªõi 10MB.');
                    input.value = '';
                    return;
                }

                // Disable button v√† hi·ªÉn th·ªã loading
                const uploadBtn = document.getElementById('btn-upload-qr');
                const originalText = uploadBtn.innerHTML;
                uploadBtn.disabled = true;
                uploadBtn.innerHTML = '<i class="fa-solid fa-spinner fa-spin mr-2"></i> ƒêang x·ª≠ l√Ω...';

                // 1. D·ªçn d·∫πp scanner c≈© (n·∫øu c√≥)
                if (this.state.html5QrCode) {
                    try {
                        if (this.state.html5QrCode.isScanning) {
                            await this.state.html5QrCode.stop();
                        }
                        this.state.html5QrCode.clear();
                    } catch (e) {
                        // ignore error
                    }
                    this.state.html5QrCode = null;
                }

                try {
                    // 2. Th·ª≠ scan b·∫±ng jsQR tr∆∞·ªõc (t·ªët h∆°n cho file)
                    let decodedText;
                    try {
                        decodedText = await this.scanQrFromFile(imageFile);
                    } catch (jsQrError) {
                        console.warn('jsQR failed, trying html5-qrcode:', jsQrError);
                        // Fallback to html5-qrcode
                        const hiddenDiv = document.createElement('div');
                        hiddenDiv.style.display = 'none';
                        document.body.appendChild(hiddenDiv);
                        
                        const html5QrCode = new Html5Qrcode(hiddenDiv);
                        decodedText = await html5QrCode.scanFile(imageFile, false);
                        html5QrCode.clear();
                        document.body.removeChild(hiddenDiv);
                    }
                    
                    this.verifyCode(decodedText);
                } catch (err) {
                    console.error("File Scan Error:", err);
                    
                    let errorMsg = "Kh√¥ng t√¨m th·∫•y m√£ QR trong ·∫£nh.";
                    if (err?.toString().includes("No MultiFormat Readers") || err?.toString().includes("No QR code found")) {
                        errorMsg = "Kh√¥ng th·ªÉ gi·∫£i m√£ QR t·ª´ ·∫£nh n√†y.";
                    } else if (err?.toString().includes("Failed to load image") || err?.toString().includes("Failed to read file")) {
                        errorMsg = "Kh√¥ng th·ªÉ ƒë·ªçc file ·∫£nh. Vui l√≤ng th·ª≠ l·∫°i.";
                    }

                    alert(`${errorMsg}\n\nG·ª£i √Ω:\n1. ·∫¢nh qu√° m·ªù ho·∫∑c b·ªã v·ª° h·∫°t -> H√£y d√πng ·∫£nh g·ªëc r√µ n√©t.\n2. ·∫¢nh ch·ª©a qu√° nhi·ªÅu chi ti·∫øt th·ª´a -> H√£y c·∫Øt (crop) s√°t v√†o m√£ QR.\n3. ƒê·∫£m b·∫£o ·∫£nh c√≥ ƒë·ªãnh d·∫°ng h·ªó tr·ª£ (PNG, JPG, JPEG).\n4. Ki·ªÉm tra xem m√£ QR c√≥ b·ªã h·ªèng ho·∫∑c qu√° nh·ªè kh√¥ng.\n5. Th·ª≠ d√πng ·∫£nh c√≥ ƒë·ªô ph√¢n gi·∫£i cao h∆°n.`);
                } finally {
                    input.value = ''; // Reset input
                    // Kh√¥i ph·ª•c button
                    uploadBtn.disabled = false;
                    uploadBtn.innerHTML = originalText;
                }
            },

            // H√†m scan QR t·ª´ file s·ª≠ d·ª•ng jsQR
            async scanQrFromFile(file) {
                return new Promise((resolve, reject) => {
                    const canvas = document.createElement('canvas');
                    const ctx = canvas.getContext('2d');
                    const img = new Image();
                    
                    img.onload = () => {
                        try {
                            // Resize canvas to image size
                            canvas.width = img.width;
                            canvas.height = img.height;
                            
                            // Draw image to canvas
                            ctx.drawImage(img, 0, 0);
                            
                            // Get image data
                            const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
                            
                            // Scan QR code
                            const code = jsQR(imageData.data, imageData.width, imageData.height, {
                                inversionAttempts: "dontInvert",
                            });
                            
                            if (code && code.data) {
                                console.log('QR Code found:', code.data);
                                resolve(code.data);
                            } else {
                                reject(new Error('No QR code found in image'));
                            }
                        } catch (error) {
                            console.error('Error processing image:', error);
                            reject(error);
                        }
                    };
                    
                    img.onerror = (error) => {
                        console.error('Image load error:', error);
                        reject(new Error('Failed to load image'));
                    };
                    
                    // Load image from file
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        img.src = e.target.result;
                    };
                    reader.onerror = (error) => {
                        console.error('File read error:', error);
                        reject(new Error('Failed to read file'));
                    };
                    reader.readAsDataURL(file);
                });
            },

            verifyCode(code) {
                // Ki·ªÉm tra code c√≥ trong danh s√°ch h·ª£p l·ªá ho·∫∑c kh·ªõp m√£ g·ªëc kh√¥ng
                const isValid = (this.config.validCodes && this.config.validCodes.includes(code)) 
                             || code === this.config.correctCode;

                if (isValid) {
                    const cleanupAndLogin = () => {
                        try {
                            if (this.state.html5QrCode) {
                                this.state.html5QrCode.clear(); 
                            }
                        } catch(e) {}
                        this.completeLogin();
                    };

                    if (this.state.html5QrCode && this.state.html5QrCode.isScanning) {
                         this.state.html5QrCode.stop()
                             .then(cleanupAndLogin)
                             .catch(cleanupAndLogin);
                    } else {
                         cleanupAndLogin();
                    }
                } else {
                    alert(`M√£ QR ƒë√£ qu√©t ƒë∆∞·ª£c: "${code}"\nNh∆∞ng m√£ n√†y kh√¥ng ƒë√∫ng v·ªõi h·ªá th·ªëng!`);
                }
            },

            stopScanner() {
                if (this.state.html5QrCode) {
                    const cleanup = () => {
                        try { this.state.html5QrCode.clear(); } catch(e){}
                        this.resetScannerUI();
                    };

                    if (this.state.html5QrCode.isScanning) {
                        this.state.html5QrCode.stop()
                            .then(cleanup)
                            .catch((err) => {
                                console.error("Failed to stop scanning", err);
                                cleanup();
                            });
                    } else {
                        cleanup();
                    }
                } else {
                    this.resetScannerUI();
                }
            },

            resetScannerUI() {
                document.getElementById('reader-container').classList.add('hidden');
                document.getElementById('btn-scan-qr').classList.remove('hidden');
            },

            loadProgress() {
                const stored = localStorage.getItem('toeic_app_learned');
                if (stored) {
                    this.state.learnedWords = JSON.parse(stored);
                } else {
                    this.state.learnedWords = {};
                    // Init empty arrays for topics
                    this.data.forEach(t => { this.state.learnedWords[t.id] = [] });
                }
            },

            saveProgress() {
                localStorage.setItem('toeic_app_learned', JSON.stringify(this.state.learnedWords));
                this.renderDashboard(); // Re-render to update progress bars
            },

            resetProgress() {
                if(confirm('B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a to√†n b·ªô ti·∫øn ƒë·ªô h·ªçc?')) {
                    localStorage.removeItem('toeic_app_learned');
                    this.loadProgress();
                    this.goHome();
                }
            },

            // --- Navigation / View Switching ---
            hideAllViews() {
                document.querySelectorAll('main > section').forEach(el => el.classList.add('hidden'));
            },

            goHome() {
                this.hideAllViews();
                document.getElementById('view-dashboard').classList.remove('hidden');
                this.renderDashboard();
                this.state.currentTopicIndex = null;
            },

            toggleMobileMenu() {
                const mobileMenu = document.getElementById('mobile-menu');
                mobileMenu.classList.toggle('hidden');
            },

            // Close mobile menu when clicking outside
            initMobileMenu() {
                document.addEventListener('click', (e) => {
                    const mobileMenu = document.getElementById('mobile-menu');
                    const menuButton = e.target.closest('button[onclick*="toggleMobileMenu"]');
                    
                    if (!menuButton && !mobileMenu.contains(e.target)) {
                        mobileMenu.classList.add('hidden');
                    }
                });
            },

            selectTopic(index) {
                this.state.currentTopicIndex = index;
                const topic = this.data[index];
                
                // Update Action View Title
                document.getElementById('action-topic-title').innerText = topic.title;
                
                this.hideAllViews();
                document.getElementById('view-actions').classList.remove('hidden');
            },

            showActions() {
                if (this.state.currentTopicIndex !== null) {
                    this.selectTopic(this.state.currentTopicIndex);
                } else {
                    this.goHome();
                }
            },

            toggleDarkMode() {
                document.documentElement.classList.toggle('dark');
                localStorage.setItem('toeic_dark_mode', document.documentElement.classList.contains('dark'));
            },

            handleSearch(val) {
                this.state.searchTerm = val.toLowerCase();
                this.renderDashboard();
            },

            handleFilter(source) {
                this.state.filterSource = source;
                this.renderDashboard();
            },

            // --- Dashboard Logic ---
            renderDashboard() {
                const container = document.getElementById('topic-list');
                container.innerHTML = '';
                
                let filteredData = this.data;

                // Filter by Source
                if (this.state.filterSource !== 'all') {
                    filteredData = filteredData.filter(t => t.source === this.state.filterSource);
                }

                // Filter by Search (Search in Title OR in Words)
                if (this.state.searchTerm) {
                    filteredData = filteredData.filter(t => {
                        const titleMatch = t.title.toLowerCase().includes(this.state.searchTerm);
                        const wordMatch = t.words.some(w => w.en.toLowerCase().includes(this.state.searchTerm) || w.vi.toLowerCase().includes(this.state.searchTerm));
                        return titleMatch || wordMatch;
                    });
                }

                if (filteredData.length === 0) {
                    container.innerHTML = '<div class="col-span-full text-center text-gray-500 py-10">Kh√¥ng t√¨m th·∫•y ch·ªß ƒë·ªÅ n√†o.</div>';
                    return;
                }

                filteredData.forEach((topic) => {
                    // Find original index to keep click handling correct
                    const originalIndex = this.data.findIndex(d => d.id === topic.id);
                    
                    // Calculate progress
                    const total = topic.words.length;
                    const learnedInit = this.state.learnedWords[topic.id] || [];
                    const learnedCount = learnedInit.length;
                    const percent = Math.round((learnedCount / total) * 100);

                    const el = document.createElement('div');
                    el.className = 'bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition cursor-pointer border border-gray-100 group dark:bg-slate-800 dark:border-slate-700';
                    el.onclick = () => this.selectTopic(originalIndex);
                    
                    el.innerHTML = `
                        <div class="p-6">
                            <div class="flex items-center mb-4">
                                <div class="w-12 h-12 ${topic.color} bg-opacity-20 rounded-full flex items-center justify-center text-${topic.color.replace('bg-', '')} mr-4">
                                    <i class="fa-solid ${topic.icon} text-xl text-white py-2 px-3 rounded-full ${topic.color}"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-xl text-gray-800 group-hover:text-brand-600 transition dark:text-gray-200">${topic.title}</h3>
                                    <span class="text-xs font-semibold px-2 py-0.5 rounded bg-gray-100 text-gray-500 dark:bg-slate-700 dark:text-gray-400">${topic.source}</span>
                                </div>
                            </div>
                            
                            <div class="w-full bg-gray-200 rounded-full h-2.5 mb-2 dark:bg-slate-700">
                                <div class="bg-brand-600 h-2.5 rounded-full transition-all duration-1000" style="width: ${percent}%"></div>
                            </div>
                            <div class="flex justify-between text-xs text-gray-500 font-medium dark:text-gray-400">
                                <span>Ti·∫øn ƒë·ªô</span>
                                <span>${learnedCount}/${total} t·ª´ (${percent}%)</span>
                            </div>
                        </div>
                    `;
                    container.appendChild(el);
                });
            },

            // --- Flashcard Logic (Tinder Swipe) ---
            startFlashcards() {
                const topic = this.data[this.state.currentTopicIndex];
                this.state.flashcardQueue = [...topic.words].sort(() => 0.5 - Math.random());
                this.state.currentCardIndex = 0;

                this.hideAllViews();
                document.getElementById('view-flashcard').classList.remove('hidden');
                document.getElementById('fc-complete-msg').classList.add('hidden');
                
                // Show Card & Controls
                document.querySelector('.perspective-1000').classList.remove('hidden');
                document.querySelector('.perspective-1000').nextElementSibling.classList.remove('hidden'); 

                this.renderCard();
                this.initSwipeListeners();
            },

            renderCard() {
                const queue = this.state.flashcardQueue;
                if (this.state.currentCardIndex >= queue.length) {
                    // Finished
                    document.querySelector('.perspective-1000').classList.add('hidden');
                    document.querySelector('.perspective-1000').nextElementSibling.classList.add('hidden'); // Hide controls
                    document.getElementById('fc-complete-msg').classList.remove('hidden');
                    return;
                }

                const word = queue[this.state.currentCardIndex];
                const cardInner = document.getElementById('flashcard-inner');
                const cardEl = document.getElementById('flashcard-swipe');
                
                // Reset Styles
                cardInner.classList.remove('rotate-y-180');
                cardEl.style.transform = '';
                cardEl.classList.remove('is-animating');
                
                // Hide Badges
                document.getElementById('swipe-like').style.opacity = '0';
                document.getElementById('swipe-nope').style.opacity = '0';

                // Update content
                document.getElementById('fc-front').innerText = word.en;
                document.getElementById('fc-pronunciation').innerText = word.pron || '';
                
                // Back Side fields
                document.getElementById('fc-back-en').innerText = word.en;
                document.getElementById('fc-back-pron').innerText = word.pron || '';
                document.getElementById('fc-back').innerText = word.vi;
                
                document.getElementById('fc-progress').innerText = `${this.state.currentCardIndex + 1}/${queue.length}`;
            },

            flipCard() {
                document.getElementById('flashcard-inner').classList.toggle('rotate-y-180');
            },
            
            resetCardPosition() {
                 const cardEl = document.getElementById('flashcard-swipe');
                 cardEl.classList.add('is-animating');
                 cardEl.style.transform = 'translate(0px, 0px) rotate(0deg)';
                 document.getElementById('swipe-like').style.opacity = '0';
                 document.getElementById('swipe-nope').style.opacity = '0';
            },

            markCard(isLearned) {
                const topicId = this.data[this.state.currentTopicIndex].id;
                const currentWord = this.state.flashcardQueue[this.state.currentCardIndex];
                const learnedList = this.state.learnedWords[topicId] || [];

                if (isLearned) {
                    if (!learnedList.includes(currentWord.en)) {
                        learnedList.push(currentWord.en);
                        this.state.learnedWords[topicId] = learnedList;
                        this.saveProgress();
                    }
                } 
                
                // Wait for animation to finish before rendering next
                setTimeout(() => {
                    this.state.currentCardIndex++;
                    this.renderCard();
                }, 300);
            },

            triggerSwipe(direction) {
                const cardEl = document.getElementById('flashcard-swipe');
                cardEl.classList.add('is-animating');
                const screenWidth = window.innerWidth;
                
                if (direction === 'right') {
                   cardEl.style.transform = `translate(${screenWidth + 100}px, 50px) rotate(30deg)`;
                   this.markCard(true);
                } else {
                   cardEl.style.transform = `translate(-${screenWidth + 100}px, 50px) rotate(-30deg)`;
                   this.markCard(false);
                }
            },

            initSwipeListeners() {
                const card = document.getElementById('flashcard-swipe');
                if(card.dataset.listenerAdded) return;
                
                let startX, moveX, isDragging = false;

                // Mouse Events
                card.addEventListener('mousedown', (e) => {
                    if(e.target.closest('button')) return; // Ignore if clicking play audio but we have event stopPropagation there
                    isDragging = true;
                    startX = e.clientX;
                    card.classList.remove('is-animating');
                });
                
                // Touch Events
                card.addEventListener('touchstart', (e) => {
                    if(e.target.closest('button')) return;
                    isDragging = true;
                    startX = e.touches[0].clientX;
                    card.classList.remove('is-animating');
                });

                const handleMove = (x) => {
                    if (!isDragging) return;
                    moveX = x - startX;
                    const rotate = moveX / 15;
                    card.style.transform = `translate(${moveX}px, 0) rotate(${rotate}deg)`;

                    // Show Hints
                    if (moveX > 0) {
                        document.getElementById('swipe-like').style.opacity = Math.min(moveX / 100, 1);
                        document.getElementById('swipe-nope').style.opacity = 0;
                    } else {
                        document.getElementById('swipe-nope').style.opacity = Math.min(Math.abs(moveX) / 100, 1);
                        document.getElementById('swipe-like').style.opacity = 0;
                    }
                };

                const handleEnd = () => {
                   if (!isDragging) return;
                   isDragging = false;
                   const threshold = 100;
                   
                   if (Math.abs(moveX) > threshold) {
                       this.triggerSwipe(moveX > 0 ? 'right' : 'left');
                   } else {
                       this.resetCardPosition();
                   }
                   moveX = 0;
                };

                window.addEventListener('mousemove', (e) => handleMove(e.clientX));
                window.addEventListener('touchmove', (e) => handleMove(e.touches[0].clientX));
                window.addEventListener('mouseup', handleEnd);
                window.addEventListener('touchend', handleEnd);
                
                card.dataset.listenerAdded = 'true';
            },

            playAudio() {
                const word = this.state.flashcardQueue[this.state.currentCardIndex];
                if (!word) return;
                
                const utterance = new SpeechSynthesisUtterance(word.en);
                utterance.lang = 'en-US';
                utterance.rate = 0.9;
                speechSynthesis.speak(utterance);
            },

            // --- Quiz Logic ---
            startQuiz() {
                const topic = this.data[this.state.currentTopicIndex];
                this.state.quizQueue = [...topic.words].sort(() => 0.5 - Math.random());
                this.state.currentCardIndex = 0; // reusing generic index
                this.state.quizScore = 0;

                this.hideAllViews();
                document.getElementById('view-quiz').classList.remove('hidden');
                document.getElementById('quiz-container').classList.remove('hidden');
                document.getElementById('quiz-result').classList.add('hidden');
                document.getElementById('quiz-score').innerText = '0';

                this.renderQuizQuestion();
            },

            renderQuizQuestion() {
                const queue = this.state.quizQueue;
                if (this.state.currentCardIndex >= queue.length) {
                   this.finishQuiz();
                   return;
                }

                const correctWord = queue[this.state.currentCardIndex];
                const topic = this.data[this.state.currentTopicIndex];

                // Pick 3 wrong answers
                const allOtherWords = topic.words.filter(w => w.en !== correctWord.en);
                const wrongOptions = allOtherWords.sort(() => 0.5 - Math.random()).slice(0, 3);
                
                let options = [...wrongOptions, correctWord];
                options.sort(() => 0.5 - Math.random()); // Shuffle options

                // Render UI
                document.getElementById('quiz-question').innerText = correctWord.en;
                document.getElementById('quiz-feedback').style.opacity = '0';
                document.getElementById('quiz-next-btn').classList.add('hidden');

                const optionInfo = document.getElementById('quiz-options');
                optionInfo.innerHTML = '';

                options.forEach(opt => {
                    const btn = document.createElement('button');
                    btn.className = `w-full p-4 text-left border-2 border-gray-100 rounded-xl hover:bg-blue-50 hover:border-blue-200 transition font-medium text-gray-700`;
                    btn.innerText = opt.vi;
                    btn.onclick = (e) => this.handleQuizAnswer(opt.en, correctWord.en, e.target);
                    optionInfo.appendChild(btn);
                });
            },

            handleQuizAnswer(selectedEn, correctEn, btnElement) {
                // Disable all buttons
                const buttons = document.querySelectorAll('#quiz-options button');
                buttons.forEach(btn => btn.disabled = true);

                const feedback = document.getElementById('quiz-feedback');
                feedback.style.opacity = '1';

                if (selectedEn === correctEn) {
                    btnElement.classList.add('bg-green-100', 'border-green-500', 'text-green-700');
                    btnElement.innerHTML += ' <i class="fa-solid fa-check float-right mt-1"></i>';
                    this.state.quizScore += 10;
                    document.getElementById('quiz-score').innerText = this.state.quizScore;
                    feedback.innerText = "Ch√≠nh x√°c! üéâ";
                    feedback.className = "mt-4 text-center h-8 font-bold text-lg text-green-600";
                    // Audio feedback
                    const utterance = new SpeechSynthesisUtterance("Correct");
                    utterance.lang = 'en-US';
                    speechSynthesis.speak(utterance);
                } else {
                    btnElement.classList.add('bg-red-100', 'border-red-500', 'text-red-700');
                    // Find correct one to highlight
                    buttons.forEach(btn => {
                        if(btn.innerText.includes(this.data[this.state.currentTopicIndex].words.find(w => w.en === correctEn).vi)) {
                            btn.classList.add('bg-green-50', 'border-green-300');
                        }
                    });
                    feedback.innerText = "Sai r·ªìi! üò¢";
                    feedback.className = "mt-4 text-center h-8 font-bold text-lg text-red-600";
                }

                document.getElementById('quiz-next-btn').classList.remove('hidden');
            },

            nextQuiz() {
                this.state.currentCardIndex++;
                this.renderQuizQuestion();
            },

            finishQuiz() {
                document.getElementById('quiz-container').classList.add('hidden');
                document.getElementById('quiz-result').classList.remove('hidden');
                document.getElementById('quiz-final-score').innerText = this.state.quizScore + " Points";
            },

            // --- Game Logic ---
            startGame() {
                const topic = this.data[this.state.currentTopicIndex];
                const dataset = [...topic.words].sort(() => 0.5 - Math.random()).slice(0, 6);
                
                let deck = [];
                dataset.forEach(w => {
                    deck.push({ id: w.en, content: w.en, type: 'en' });
                    deck.push({ id: w.en, content: w.vi, type: 'vi' });
                });
                
                this.state.gameCards = deck.sort(() => 0.5 - Math.random());
                this.state.gameSelected = [];
                this.state.gameMatches = 0;
                
                this.hideAllViews();
                document.getElementById('view-game').classList.remove('hidden');
                document.getElementById('game-win').classList.add('hidden');
                document.getElementById('game-left').innerText = dataset.length;

                this.renderGameGrid();
            },

            renderGameGrid() {
                const grid = document.getElementById('game-grid');
                grid.innerHTML = '';
                
                this.state.gameCards.forEach((card, idx) => {
                    const el = document.createElement('div');
                    // "game-card" is the container. 
                    // "h-24 sm:h-32" ensures responsiveness.
                    el.className = `game-card relative h-24 sm:h-32 cursor-pointer select-none perspective-1000`;
                    el.dataset.idx = idx;
                    el.onclick = () => this.handleCardClick(idx, el);
                    
                    // 3D Inner Container
                    el.innerHTML = `
                        <div class="game-card-inner w-full h-full relative shadow-sm rounded-xl border-2 border-brand-100 bg-white hover:shadow-md transition">
                            <!-- Front (Face Down) -->
                            <div class="front absolute w-full h-full backface-hidden flex items-center justify-center rounded-xl bg-white">
                                <i class="fa-solid fa-question text-brand-200 text-2xl"></i>
                            </div>
                            <!-- Back (Face Up) -->
                            <div class="back absolute w-full h-full backface-hidden rotate-y-180 flex items-center justify-center rounded-xl bg-brand-50 border-2 border-brand-500 px-2 text-center overflow-hidden">
                                <span class="font-bold text-brand-700 text-xs sm:text-sm break-words leading-tight">${card.content}</span>
                            </div>
                        </div>
                    `;
                    
                    grid.appendChild(el);
                });
            },

            handleCardClick(idx, element) {
                // Ignore if matched, already flipped, or 2 cards already active
                if (element.classList.contains('matched') || 
                    element.classList.contains('flipped') ||
                    this.state.gameSelected.length === 2) return;

                const cardData = this.state.gameCards[idx];

                // Flip it
                element.classList.add('flipped');
                
                this.state.gameSelected.push({ idx, id: cardData.id, el: element });

                if (this.state.gameSelected.length === 2) {
                    this.checkMatch();
                }
            },

            checkMatch() {
                const [first, second] = this.state.gameSelected;
                
                if (first.id === second.id) {
                    // Macth!
                    this.state.gameMatches++;
                    document.getElementById('game-left').innerText = (this.state.gameCards.length / 2) - this.state.gameMatches;
                    
                    setTimeout(() => {
                        // Mark as matched (pop out effect)
                        first.el.classList.add('matched');
                        second.el.classList.add('matched');
                        
                        // Check Win
                        if (this.state.gameMatches === this.state.gameCards.length / 2) {
                            document.getElementById('game-win').classList.remove('hidden');
                        }
                    }, 600);
                    
                    this.state.gameSelected = [];
                } else {
                    // No match
                    setTimeout(() => {
                        // Flip back
                        first.el.classList.remove('flipped');
                        second.el.classList.remove('flipped');
                        this.state.gameSelected = [];
                    }, 1000);
                }
            },

            // --- Spelling Bee Logic ---
            startSpellingBee() {
                const topic = this.data[this.state.currentTopicIndex];
                this.state.spellingQueue = [...topic.words].sort(() => 0.5 - Math.random());
                this.state.currentSpellingIndex = 0;
                this.state.spellingScore = 0;

                this.hideAllViews();
                document.getElementById('view-spelling').classList.remove('hidden');
                document.getElementById('spelling-score').innerText = '0';
                
                this.renderSpelling();
            },

            renderSpelling() {
                const queue = this.state.spellingQueue;
                if (this.state.currentSpellingIndex >= queue.length) {
                    alert(`Ho√†n th√†nh! ƒêi·ªÉm c·ªßa b·∫°n: ${this.state.spellingScore}`);
                    this.showActions();
                    return;
                }

                const wordObj = queue[this.state.currentSpellingIndex];
                const cleanWord = wordObj.en.trim();
                
                document.getElementById('spelling-meaning').innerText = wordObj.vi;
                document.getElementById('spelling-feedback').innerText = '';
                document.getElementById('btn-next-spelling').classList.add('hidden');
                
                const container = document.getElementById('spelling-input-container');
                container.innerHTML = '';
                
                // Hint: Show first 2 characters?
                // Only if word length > 2
                const hintCount = cleanWord.length > 3 ? 2 : (cleanWord.length > 1 ? 1 : 0);
                const hintText = cleanWord.substring(0, hintCount);
                document.getElementById('spelling-hint').innerText = hintCount > 0 ? `G·ª£i √Ω: ${hintText}...` : '';

                // Create inputs per character
                for (let i = 0; i < cleanWord.length; i++) {
                    const char = cleanWord[i];
                    if (char === ' ') {
                        // Space separator
                        const space = document.createElement('div');
                        space.className = "w-4 h-12 flex items-center justify-center";
                        container.appendChild(space);
                    } else {
                        const input = document.createElement('input');
                        input.type = "text";
                        input.maxLength = 1;
                        input.className = "w-10 h-14 border-2 border-gray-300 rounded-lg text-center text-xl font-bold uppercase focus:border-brand-500 focus:ring-2 focus:ring-brand-200 outline-none m-1";
                        input.dataset.index = i;
                        
                        // Auto focus next logic
                        input.oninput = (e) => {
                            if (e.target.value.length === 1) {
                                let next = input.nextElementSibling;
                                while(next && next.tagName !== 'INPUT') {
                                    next = next.nextElementSibling;
                                }
                                if (next) next.focus();
                            }
                        };
                        input.onkeydown = (e) => {
                            if (e.key === 'Backspace' && e.target.value === '') {
                                let prev = input.previousElementSibling;
                                while(prev && prev.tagName !== 'INPUT') {
                                    prev = prev.previousElementSibling;
                                }
                                if (prev) prev.focus();
                            }
                            if (e.key === ' ') {
                                e.preventDefault();
                                let next = input.nextElementSibling;
                                while(next && next.tagName !== 'INPUT') {
                                    next = next.nextElementSibling;
                                }
                                if (next) next.focus();
                            }
                        };

                        container.appendChild(input);
                    }
                }
                
                // Focus first
                const first = container.querySelector('input');
                if (first) first.focus();
            },

            checkSpelling() {
                const wordObj = this.state.spellingQueue[this.state.currentSpellingIndex];
                const cleanWord = wordObj.en.trim().toLowerCase();
                
                const inputs = document.querySelectorAll('#spelling-input-container input');
                let userWord = "";
                let inputIndex = 0;
                
                for(let i=0; i<cleanWord.length; i++) {
                     if (cleanWord[i] === ' ') {
                         userWord += " ";
                     } else {
                         userWord += inputs[inputIndex].value.toLowerCase();
                         inputIndex++;
                     }
                }

                const feedback = document.getElementById('spelling-feedback');
                
                if (userWord === cleanWord) {
                    feedback.innerText = "Ch√≠nh x√°c! +10 ƒëi·ªÉm";
                    feedback.className = "h-8 font-bold mt-2 text-green-600";
                    this.state.spellingScore += 10;
                    document.getElementById('spelling-score').innerText = this.state.spellingScore;
                    document.getElementById('btn-next-spelling').classList.remove('hidden');
                    
                    // Lock inputs
                    inputs.forEach(inp => {
                        inp.classList.add('bg-green-100', 'border-green-500');
                        inp.disabled = true;
                    });
                } else {
                    feedback.innerText = "Ch∆∞a ƒë√∫ng, th·ª≠ l·∫°i nh√©!";
                    feedback.className = "h-8 font-bold mt-2 text-red-500";
                    // Highlight wrong
                    inputs.forEach(inp => inp.classList.add('border-red-300'));
                }
            },

            nextSpelling() {
                this.state.currentSpellingIndex++;
                this.renderSpelling();
            }
        };

        // Initialize App on Load
        window.addEventListener('DOMContentLoaded', () => {
            app.init();
        });

</script>
</body>
</html>
